"use strict";var uo=Object.defineProperty;var Gn=e=>{throw TypeError(e)};var co=(e,t,n)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>co(e,typeof t!="symbol"?t+"":t,n),Kn=(e,t,n)=>t.has(e)||Gn("Cannot "+n);var Z=(e,t,n)=>(Kn(e,t,"read from private field"),n?n.call(e):t.get(e)),en=(e,t,n)=>t.has(e)?Gn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tn=(e,t,n,r)=>(Kn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,s=window.DocumentFragment.prototype.prepend,l=window.DocumentFragment.prototype.append,d=window.Node.prototype.cloneNode,v=window.Node.prototype.appendChild,f=window.Node.prototype.insertBefore,h=window.Node.prototype.removeChild,m=window.Node.prototype.replaceChild,g=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),w=window.Element.prototype.attachShadow,y=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),N=window.Element.prototype.getAttribute,D=window.Element.prototype.setAttribute,O=window.Element.prototype.removeAttribute,M=window.Element.prototype.toggleAttribute,$=window.Element.prototype.getAttributeNS,k=window.Element.prototype.setAttributeNS,T=window.Element.prototype.removeAttributeNS,U=window.Element.prototype.insertAdjacentElement,X=window.Element.prototype.insertAdjacentHTML,S=window.Element.prototype.prepend,I=window.Element.prototype.append,W=window.Element.prototype.before,q=window.Element.prototype.after,R=window.Element.prototype.replaceWith,Y=window.Element.prototype.remove,fe=window.HTMLElement,K=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),de=window.HTMLElement.prototype.insertAdjacentElement,He=window.HTMLElement.prototype.insertAdjacentHTML,at=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(i){return at.add(i)});function Hn(i){var a=at.has(i);return i=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(i),!a&&i}var to=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function V(i){var a=i.isConnected;if(a!==void 0)return a;if(to(i))return!0;for(;i&&!(i.__CE_isImportDocument||i instanceof Document);)i=i.parentNode||(window.ShadowRoot&&i instanceof ShadowRoot?i.host:void 0);return!(!i||!(i.__CE_isImportDocument||i instanceof Document))}function Gt(i){var a=i.children;if(a)return Array.prototype.slice.call(a);for(a=[],i=i.firstChild;i;i=i.nextSibling)i.nodeType===Node.ELEMENT_NODE&&a.push(i);return a}function Kt(i,a){for(;a&&a!==i&&!a.nextSibling;)a=a.parentNode;return a&&a!==i?a.nextSibling:null}function Jt(i,a,c){for(var _=i;_;){if(_.nodeType===Node.ELEMENT_NODE){var u=_;a(u);var p=u.localName;if(p==="link"&&u.getAttribute("rel")==="import"){if(_=u.import,c===void 0&&(c=new Set),_ instanceof Node&&!c.has(_))for(c.add(_),_=_.firstChild;_;_=_.nextSibling)Jt(_,a,c);_=Kt(i,u);continue}else if(p==="template"){_=Kt(i,u);continue}if(u=u.__CE_shadowRoot)for(u=u.firstChild;u;u=u.nextSibling)Jt(u,a,c)}_=_.firstChild?_.firstChild:Kt(i,_)}}function $t(){var i=!(we==null||!we.noDocumentConstructionObserver),a=!(we==null||!we.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=a,this.I=!i}function ut(i,a,c,_){var u=window.ShadyDOM;if(i.shadyDomFastWalk&&u&&u.inUse){if(a.nodeType===Node.ELEMENT_NODE&&c(a),a.querySelectorAll)for(i=u.nativeMethods.querySelectorAll.call(a,"*"),a=0;a<i.length;a++)c(i[a])}else Jt(a,c,_)}function no(i,a){i.j=!0,i.m.push(a)}function ro(i,a){i.j=!0,i.g.push(a)}function Zt(i,a){i.j&&ut(i,a,function(c){return Xe(i,c)})}function Xe(i,a){if(i.j&&!a.__CE_patched){a.__CE_patched=!0;for(var c=0;c<i.m.length;c++)i.m[c](a);for(c=0;c<i.g.length;c++)i.g[c](a)}}function ge(i,a){var c=[];for(ut(i,a,function(u){return c.push(u)}),a=0;a<c.length;a++){var _=c[a];_.__CE_state===1?i.connectedCallback(_):kt(i,_)}}function ne(i,a){var c=[];for(ut(i,a,function(u){return c.push(u)}),a=0;a<c.length;a++){var _=c[a];_.__CE_state===1&&i.disconnectedCallback(_)}}function xe(i,a,c){c=c===void 0?{}:c;var _=c.J,u=c.upgrade||function(b){return kt(i,b)},p=[];for(ut(i,a,function(b){if(i.j&&Xe(i,b),b.localName==="link"&&b.getAttribute("rel")==="import"){var E=b.import;E instanceof Node&&(E.__CE_isImportDocument=!0,E.__CE_registry=document.__CE_registry),E&&E.readyState==="complete"?E.__CE_documentLoadHandled=!0:b.addEventListener("load",function(){var C=b.import;if(!C.__CE_documentLoadHandled){C.__CE_documentLoadHandled=!0;var A=new Set;_&&(_.forEach(function(B){return A.add(B)}),A.delete(C)),xe(i,C,{J:A,upgrade:u})}})}else p.push(b)},_),a=0;a<p.length;a++)u(p[a])}function kt(i,a){try{var c=a.ownerDocument,_=c.__CE_registry,u=_&&(c.defaultView||c.__CE_isImportDocument)?xt(_,a.localName):void 0;if(u&&a.__CE_state===void 0){u.constructionStack.push(a);try{try{if(new u.constructorFunction!==a)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{u.constructionStack.pop()}}catch(C){throw a.__CE_state=2,C}if(a.__CE_state=1,a.__CE_definition=u,u.attributeChangedCallback&&a.hasAttributes()){var p=u.observedAttributes;for(u=0;u<p.length;u++){var b=p[u],E=a.getAttribute(b);E!==null&&i.attributeChangedCallback(a,b,null,E,null)}}V(a)&&i.connectedCallback(a)}}catch(C){Ge(C)}}$t.prototype.connectedCallback=function(i){var a=i.__CE_definition;if(a.connectedCallback)try{a.connectedCallback.call(i)}catch(c){Ge(c)}},$t.prototype.disconnectedCallback=function(i){var a=i.__CE_definition;if(a.disconnectedCallback)try{a.disconnectedCallback.call(i)}catch(c){Ge(c)}},$t.prototype.attributeChangedCallback=function(i,a,c,_,u){var p=i.__CE_definition;if(p.attributeChangedCallback&&-1<p.observedAttributes.indexOf(a))try{p.attributeChangedCallback.call(i,a,c,_,u)}catch(b){Ge(b)}};function In(i,a,c,_){var u=a.__CE_registry;if(u&&(_===null||_==="http://www.w3.org/1999/xhtml")&&(u=xt(u,c)))try{var p=new u.constructorFunction;if(p.__CE_state===void 0||p.__CE_definition===void 0)throw Error("Failed to construct '"+c+"': The returned value was not constructed with the HTMLElement constructor.");if(p.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+c+"': The constructed element's namespace must be the HTML namespace.");if(p.hasAttributes())throw Error("Failed to construct '"+c+"': The constructed element must not have any attributes.");if(p.firstChild!==null)throw Error("Failed to construct '"+c+"': The constructed element must not have any children.");if(p.parentNode!==null)throw Error("Failed to construct '"+c+"': The constructed element must not have a parent node.");if(p.ownerDocument!==a)throw Error("Failed to construct '"+c+"': The constructed element's owner document is incorrect.");if(p.localName!==c)throw Error("Failed to construct '"+c+"': The constructed element's local name is incorrect.");return p}catch(b){return Ge(b),a=_===null?e.call(a,c):t.call(a,_,c),Object.setPrototypeOf(a,HTMLUnknownElement.prototype),a.__CE_state=2,a.__CE_definition=void 0,Xe(i,a),a}return a=_===null?e.call(a,c):t.call(a,_,c),Xe(i,a),a}function Ge(i){var a="",c="",_=0,u=0;i instanceof Error?(a=i.message,c=i.sourceURL||i.fileName||"",_=i.line||i.lineNumber||0,u=i.column||i.columnNumber||0):a="Uncaught "+String(i);var p=void 0;ErrorEvent.prototype.initErrorEvent===void 0?p=new ErrorEvent("error",{cancelable:!0,message:a,filename:c,lineno:_,colno:u,error:i}):(p=document.createEvent("ErrorEvent"),p.initErrorEvent("error",!1,!0,a,c,_),p.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),p.error===void 0&&Object.defineProperty(p,"error",{configurable:!0,enumerable:!0,get:function(){return i}}),window.dispatchEvent(p),p.defaultPrevented||console.error(i)}function Bn(){var i=this;this.g=void 0,this.F=new Promise(function(a){i.l=a})}Bn.prototype.resolve=function(i){if(this.g)throw Error("Already resolved.");this.g=i,this.l(i)};function jn(i){var a=document;this.l=void 0,this.h=i,this.g=a,xe(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Vn(i){i.l&&i.l.disconnect()}jn.prototype.G=function(i){var a=this.g.readyState;for(a!=="interactive"&&a!=="complete"||Vn(this),a=0;a<i.length;a++)for(var c=i[a].addedNodes,_=0;_<c.length;_++)xe(this.h,c[_])};function z(i){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(a){return a()},this.i=!1,this.v=[],this.h=i,this.D=i.I?new jn(i):void 0}z.prototype.H=function(i,a){var c=this;if(!(a instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");zn(this,i),this.s.set(i,a),this.v.push(i),this.i||(this.i=!0,this.o(function(){return Yn(c)}))},z.prototype.define=function(i,a){var c=this;if(!(a instanceof Function))throw new TypeError("Custom element constructors must be functions.");zn(this,i),Wn(this,i,a),this.v.push(i),this.i||(this.i=!0,this.o(function(){return Yn(c)}))};function zn(i,a){if(!Hn(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(xt(i,a))throw Error("A custom element with name '"+(a+"' has already been defined."));if(i.A)throw Error("A custom element is already being defined.")}function Wn(i,a,c){i.A=!0;var _;try{var u=c.prototype;if(!(u instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var p=function(B){var Ke=u[B];if(Ke!==void 0&&!(Ke instanceof Function))throw Error("The '"+B+"' callback must be a function.");return Ke},b=p("connectedCallback"),E=p("disconnectedCallback"),C=p("adoptedCallback"),A=(_=p("attributeChangedCallback"))&&c.observedAttributes||[]}catch(B){throw B}finally{i.A=!1}return c={localName:a,constructorFunction:c,connectedCallback:b,disconnectedCallback:E,adoptedCallback:C,attributeChangedCallback:_,observedAttributes:A,constructionStack:[]},i.u.set(a,c),i.C.set(c.constructorFunction,c),c}z.prototype.upgrade=function(i){xe(this.h,i)};function Yn(i){if(i.i!==!1){i.i=!1;for(var a=[],c=i.v,_=new Map,u=0;u<c.length;u++)_.set(c[u],[]);for(xe(i.h,document,{upgrade:function(C){if(C.__CE_state===void 0){var A=C.localName,B=_.get(A);B?B.push(C):i.u.has(A)&&a.push(C)}}}),u=0;u<a.length;u++)kt(i.h,a[u]);for(u=0;u<c.length;u++){for(var p=c[u],b=_.get(p),E=0;E<b.length;E++)kt(i.h,b[E]);(p=i.B.get(p))&&p.resolve(void 0)}c.length=0}}z.prototype.get=function(i){if(i=xt(this,i))return i.constructorFunction},z.prototype.whenDefined=function(i){if(!Hn(i))return Promise.reject(new SyntaxError("'"+i+"' is not a valid custom element name."));var a=this.B.get(i);if(a)return a.F;a=new Bn,this.B.set(i,a);var c=this.u.has(i)||this.s.has(i);return i=this.v.indexOf(i)===-1,c&&i&&a.resolve(void 0),a.F},z.prototype.polyfillWrapFlushCallback=function(i){this.D&&Vn(this.D);var a=this.o;this.o=function(c){return i(function(){return a(c)})}};function xt(i,a){var c=i.u.get(a);if(c)return c;if(c=i.s.get(a)){i.s.delete(a);try{return Wn(i,a,c())}catch(_){Ge(_)}}}z.prototype.define=z.prototype.define,z.prototype.upgrade=z.prototype.upgrade,z.prototype.get=z.prototype.get,z.prototype.whenDefined=z.prototype.whenDefined,z.prototype.polyfillDefineLazy=z.prototype.H,z.prototype.polyfillWrapFlushCallback=z.prototype.polyfillWrapFlushCallback;function Qt(i,a,c){function _(u){return function(p){for(var b=[],E=0;E<arguments.length;++E)b[E]=arguments[E];E=[];for(var C=[],A=0;A<b.length;A++){var B=b[A];if(B instanceof Element&&V(B)&&C.push(B),B instanceof DocumentFragment)for(B=B.firstChild;B;B=B.nextSibling)E.push(B);else E.push(B)}for(u.apply(this,b),b=0;b<C.length;b++)ne(i,C[b]);if(V(this))for(b=0;b<E.length;b++)C=E[b],C instanceof Element&&ge(i,C)}}c.prepend!==void 0&&(a.prepend=_(c.prepend)),c.append!==void 0&&(a.append=_(c.append))}function oo(i){Document.prototype.createElement=function(a){return In(i,this,a,null)},Document.prototype.importNode=function(a,c){return a=n.call(this,a,!!c),this.__CE_registry?xe(i,a):Zt(i,a),a},Document.prototype.createElementNS=function(a,c){return In(i,this,c,a)},Qt(i,Document.prototype,{prepend:r,append:o})}function io(i){function a(_){return function(u){for(var p=[],b=0;b<arguments.length;++b)p[b]=arguments[b];b=[];for(var E=[],C=0;C<p.length;C++){var A=p[C];if(A instanceof Element&&V(A)&&E.push(A),A instanceof DocumentFragment)for(A=A.firstChild;A;A=A.nextSibling)b.push(A);else b.push(A)}for(_.apply(this,p),p=0;p<E.length;p++)ne(i,E[p]);if(V(this))for(p=0;p<b.length;p++)E=b[p],E instanceof Element&&ge(i,E)}}var c=Element.prototype;W!==void 0&&(c.before=a(W)),q!==void 0&&(c.after=a(q)),R!==void 0&&(c.replaceWith=function(_){for(var u=[],p=0;p<arguments.length;++p)u[p]=arguments[p];p=[];for(var b=[],E=0;E<u.length;E++){var C=u[E];if(C instanceof Element&&V(C)&&b.push(C),C instanceof DocumentFragment)for(C=C.firstChild;C;C=C.nextSibling)p.push(C);else p.push(C)}for(E=V(this),R.apply(this,u),u=0;u<b.length;u++)ne(i,b[u]);if(E)for(ne(i,this),u=0;u<p.length;u++)b=p[u],b instanceof Element&&ge(i,b)}),Y!==void 0&&(c.remove=function(){var _=V(this);Y.call(this),_&&ne(i,this)})}function so(i){function a(u,p){Object.defineProperty(u,"innerHTML",{enumerable:p.enumerable,configurable:!0,get:p.get,set:function(b){var E=this,C=void 0;if(V(this)&&(C=[],ut(i,this,function(Ke){Ke!==E&&C.push(Ke)})),p.set.call(this,b),C)for(var A=0;A<C.length;A++){var B=C[A];B.__CE_state===1&&i.disconnectedCallback(B)}return this.ownerDocument.__CE_registry?xe(i,this):Zt(i,this),b}})}function c(u,p){u.insertAdjacentElement=function(b,E){var C=V(E);return b=p.call(this,b,E),C&&ne(i,E),V(b)&&ge(i,E),b}}function _(u,p){function b(E,C){for(var A=[];E!==C;E=E.nextSibling)A.push(E);for(C=0;C<A.length;C++)xe(i,A[C])}u.insertAdjacentHTML=function(E,C){if(E=E.toLowerCase(),E==="beforebegin"){var A=this.previousSibling;p.call(this,E,C),b(A||this.parentNode.firstChild,this)}else if(E==="afterbegin")A=this.firstChild,p.call(this,E,C),b(this.firstChild,A);else if(E==="beforeend")A=this.lastChild,p.call(this,E,C),b(A||this.firstChild,null);else if(E==="afterend")A=this.nextSibling,p.call(this,E,C),b(this.nextSibling,A);else throw new SyntaxError("The value provided ("+String(E)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}w&&(Element.prototype.attachShadow=function(u){if(u=w.call(this,u),i.j&&!u.__CE_patched){u.__CE_patched=!0;for(var p=0;p<i.m.length;p++)i.m[p](u)}return this.__CE_shadowRoot=u}),y&&y.get?a(Element.prototype,y):K&&K.get?a(HTMLElement.prototype,K):ro(i,function(u){a(u,{enumerable:!0,configurable:!0,get:function(){return d.call(this,!0).innerHTML},set:function(p){var b=this.localName==="template",E=b?this.content:this,C=t.call(document,this.namespaceURI,this.localName);for(C.innerHTML=p;0<E.childNodes.length;)h.call(E,E.childNodes[0]);for(p=b?C.content:C;0<p.childNodes.length;)v.call(E,p.childNodes[0])}})}),Element.prototype.setAttribute=function(u,p){if(this.__CE_state!==1)return D.call(this,u,p);var b=N.call(this,u);D.call(this,u,p),p=N.call(this,u),i.attributeChangedCallback(this,u,b,p,null)},Element.prototype.setAttributeNS=function(u,p,b){if(this.__CE_state!==1)return k.call(this,u,p,b);var E=$.call(this,u,p);k.call(this,u,p,b),b=$.call(this,u,p),i.attributeChangedCallback(this,p,E,b,u)},Element.prototype.removeAttribute=function(u){if(this.__CE_state!==1)return O.call(this,u);var p=N.call(this,u);O.call(this,u),p!==null&&i.attributeChangedCallback(this,u,p,null,null)},M&&(Element.prototype.toggleAttribute=function(u,p){if(this.__CE_state!==1)return M.call(this,u,p);var b=N.call(this,u),E=b!==null;return p=M.call(this,u,p),E!==p&&i.attributeChangedCallback(this,u,b,p?"":null,null),p}),Element.prototype.removeAttributeNS=function(u,p){if(this.__CE_state!==1)return T.call(this,u,p);var b=$.call(this,u,p);T.call(this,u,p);var E=$.call(this,u,p);b!==E&&i.attributeChangedCallback(this,p,b,E,u)},de?c(HTMLElement.prototype,de):U&&c(Element.prototype,U),He?_(HTMLElement.prototype,He):X&&_(Element.prototype,X),Qt(i,Element.prototype,{prepend:S,append:I}),io(i)}var Un={};function lo(i){function a(){var c=this.constructor,_=document.__CE_registry.C.get(c);if(!_)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var u=_.constructionStack;if(u.length===0)return u=e.call(document,_.localName),Object.setPrototypeOf(u,c.prototype),u.__CE_state=1,u.__CE_definition=_,Xe(i,u),u;var p=u.length-1,b=u[p];if(b===Un)throw Error("Failed to construct '"+_.localName+"': This element was already constructed.");return u[p]=Un,Object.setPrototypeOf(b,c.prototype),Xe(i,b),b}a.prototype=fe.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:a}),window.HTMLElement=a}function ao(i){function a(c,_){Object.defineProperty(c,"textContent",{enumerable:_.enumerable,configurable:!0,get:_.get,set:function(u){if(this.nodeType===Node.TEXT_NODE)_.set.call(this,u);else{var p=void 0;if(this.firstChild){var b=this.childNodes,E=b.length;if(0<E&&V(this)){p=Array(E);for(var C=0;C<E;C++)p[C]=b[C]}}if(_.set.call(this,u),p)for(u=0;u<p.length;u++)ne(i,p[u])}}})}Node.prototype.insertBefore=function(c,_){if(c instanceof DocumentFragment){var u=Gt(c);if(c=f.call(this,c,_),V(this))for(_=0;_<u.length;_++)ge(i,u[_]);return c}return u=c instanceof Element&&V(c),_=f.call(this,c,_),u&&ne(i,c),V(this)&&ge(i,c),_},Node.prototype.appendChild=function(c){if(c instanceof DocumentFragment){var _=Gt(c);if(c=v.call(this,c),V(this))for(var u=0;u<_.length;u++)ge(i,_[u]);return c}return _=c instanceof Element&&V(c),u=v.call(this,c),_&&ne(i,c),V(this)&&ge(i,c),u},Node.prototype.cloneNode=function(c){return c=d.call(this,!!c),this.ownerDocument.__CE_registry?xe(i,c):Zt(i,c),c},Node.prototype.removeChild=function(c){var _=c instanceof Element&&V(c),u=h.call(this,c);return _&&ne(i,c),u},Node.prototype.replaceChild=function(c,_){if(c instanceof DocumentFragment){var u=Gt(c);if(c=m.call(this,c,_),V(this))for(ne(i,_),_=0;_<u.length;_++)ge(i,u[_]);return c}u=c instanceof Element&&V(c);var p=m.call(this,c,_),b=V(this);return b&&ne(i,_),u&&ne(i,c),b&&ge(i,c),p},g&&g.get?a(Node.prototype,g):no(i,function(c){a(c,{enumerable:!0,configurable:!0,get:function(){for(var _=[],u=this.firstChild;u;u=u.nextSibling)u.nodeType!==Node.COMMENT_NODE&&_.push(u.textContent);return _.join("")},set:function(_){for(;this.firstChild;)h.call(this,this.firstChild);_!=null&&_!==""&&v.call(this,document.createTextNode(_))}})})}var we=window.customElements;function Xn(){var i=new $t;lo(i),oo(i),Qt(i,DocumentFragment.prototype,{prepend:s,append:l}),ao(i),so(i),window.CustomElementRegistry=z,i=new z(i),document.__CE_registry=i,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:i})}we&&!we.forcePolyfill&&typeof we.define=="function"&&typeof we.get=="function"||Xn(),window.__CE_installPolyfill=Xn}).call(self);const bn=1,yn=2,lr=4,fo=8,ho=16,vo=8,po=1,_o=2,ar="[",En="[!",Cn="]",ht={},Q=Symbol(),ur=!1;var $n=Array.isArray,kn=Array.from,At=Object.keys,Dt=Object.defineProperty,je=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyDescriptors,go=Object.prototype,wo=Array.prototype,an=Object.getPrototypeOf;const cr=()=>{};function fr(e){for(var t=0;t<e.length;t++)e[t]()}const pe=2,dr=4,gt=8,xn=16,_e=32,wt=64,un=128,Ye=256,Lt=512,te=1024,Re=2048,bt=4096,Ee=8192,ot=16384,bo=32768,Ht=65536,yo=1<<19,hr=1<<20,Ve=Symbol("$state"),vr=Symbol("legacy props"),Eo=Symbol("");function pr(e){return e===this.v}function Co(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $o(e){return!Co(e,this.v)}function ko(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function To(e){throw new Error("https://svelte.dev/e/effect_orphan")}function No(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function So(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ao(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Do(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Lo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mo(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Oo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let _r=!1;function ae(e){return{f:0,v:e,reactions:null,equals:pr,version:0}}function Me(e){return Ro(ae(e))}function Tn(e,t=!1){const n=ae(e);return t||(n.equals=$o),n}function Ro(e){return H!==null&&H.f&pe&&(Ce===null?Yo([e]):Ce.push(e)),e}function j(e,t){return H!==null&&Xo()&&H.f&(pe|xn)&&(Ce===null||!Ce.includes(e))&&Oo(),cn(e,t)}function cn(e,t){return e.equals(t)||(e.v=t,e.version=Or(),mr(e,Re),L!==null&&L.f&te&&!(L.f&_e)&&(G!==null&&G.includes(e)?(ke(L,Re),Yt(L)):Oe===null?Uo([e]):Oe.push(e))),t}function mr(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o],l=s.f;l&Re||(ke(s,t),l&(te|Ye)&&(l&pe?mr(s,bt):Yt(s)))}}function Nn(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let P=!1;function Se(e){P=e}let F;function ve(e){if(e===null)throw Nn(),ht;return F=e}function It(){return ve(De(F))}function J(e){if(P){if(De(F)!==null)throw Nn(),ht;F=e}}function qo(e=1){if(P){for(var t=e,n=F;t--;)n=De(n);F=n}}function fn(){for(var e=0,t=F;;){if(t.nodeType===8){var n=t.data;if(n===Cn){if(e===0)return t;e-=1}else(n===ar||n===En)&&(e+=1)}var r=De(t);t.remove(),t=r}}function ce(e,t=null,n){if(typeof e!="object"||e===null||Ve in e)return e;const r=an(e);if(r!==go&&r!==wo)return e;var o=new Map,s=$n(e),l=ae(0);s&&o.set("length",ae(e.length));var d;return new Proxy(e,{defineProperty(v,f,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Do();var m=o.get(f);return m===void 0?(m=ae(h.value),o.set(f,m)):j(m,ce(h.value,d)),!0},deleteProperty(v,f){var h=o.get(f);if(h===void 0)f in v&&o.set(f,ae(Q));else{if(s&&typeof f=="string"){var m=o.get("length"),g=Number(f);Number.isInteger(g)&&g<m.v&&j(m,g)}j(h,Q),Jn(l)}return!0},get(v,f,h){var y;if(f===Ve)return e;var m=o.get(f),g=f in v;if(m===void 0&&(!g||(y=je(v,f))!=null&&y.writable)&&(m=ae(ce(g?v[f]:Q,d)),o.set(f,m)),m!==void 0){var w=x(m);return w===Q?void 0:w}return Reflect.get(v,f,h)},getOwnPropertyDescriptor(v,f){var h=Reflect.getOwnPropertyDescriptor(v,f);if(h&&"value"in h){var m=o.get(f);m&&(h.value=x(m))}else if(h===void 0){var g=o.get(f),w=g==null?void 0:g.v;if(g!==void 0&&w!==Q)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return h},has(v,f){var w;if(f===Ve)return!0;var h=o.get(f),m=h!==void 0&&h.v!==Q||Reflect.has(v,f);if(h!==void 0||L!==null&&(!m||(w=je(v,f))!=null&&w.writable)){h===void 0&&(h=ae(m?ce(v[f],d):Q),o.set(f,h));var g=x(h);if(g===Q)return!1}return m},set(v,f,h,m){var $;var g=o.get(f),w=f in v;if(s&&f==="length")for(var y=h;y<g.v;y+=1){var N=o.get(y+"");N!==void 0?j(N,Q):y in v&&(N=ae(Q),o.set(y+"",N))}g===void 0?(!w||($=je(v,f))!=null&&$.writable)&&(g=ae(void 0),j(g,ce(h,d)),o.set(f,g)):(w=g.v!==Q,j(g,ce(h,d)));var D=Reflect.getOwnPropertyDescriptor(v,f);if(D!=null&&D.set&&D.set.call(m,h),!w){if(s&&typeof f=="string"){var O=o.get("length"),M=Number(f);Number.isInteger(M)&&M>=O.v&&j(O,M+1)}Jn(l)}return!0},ownKeys(v){x(l);var f=Reflect.ownKeys(v).filter(g=>{var w=o.get(g);return w===void 0||w.v!==Q});for(var[h,m]of o)m.v!==Q&&!(h in v)&&f.push(h);return f},setPrototypeOf(){Lo()}})}function Jn(e,t=1){j(e,e.v+t)}function Zn(e){return e!==null&&typeof e=="object"&&Ve in e?e[Ve]:e}function Po(e,t){return Object.is(Zn(e),Zn(t))}var Mt,Ie,gr,wr;function dn(){if(Mt===void 0){Mt=window,Ie=document;var e=Element.prototype,t=Node.prototype;gr=je(t,"firstChild").get,wr=je(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function nt(e=""){return document.createTextNode(e)}function qe(e){return gr.call(e)}function De(e){return wr.call(e)}function oe(e,t){if(!P)return qe(e);var n=qe(F);if(n===null)n=F.appendChild(nt());else if(t&&n.nodeType!==3){var r=nt();return n==null||n.before(r),ve(r),r}return ve(n),n}function Sn(e,t){if(!P){var n=qe(e);return n instanceof Comment&&n.data===""?De(n):n}return F}function ie(e,t=1,n=!1){let r=P?F:e;for(var o;t--;)o=r,r=De(r);if(!P)return r;var s=r==null?void 0:r.nodeType;if(n&&s!==3){var l=nt();return r===null?o==null||o.after(l):r.before(l),ve(l),l}return ve(r),r}function An(e){e.textContent=""}function Bt(e){var t=pe|Re;L===null?t|=Ye:L.f|=hr;var n=H!==null&&H.f&pe?H:null;const r={children:null,ctx:ee,deps:null,equals:pr,f:t,fn:e,reactions:null,v:null,version:0,parent:n??L};return n!==null&&(n.children??(n.children=[])).push(r),r}function br(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&pe?Dn(r):Fe(r)}}}function Fo(e){for(var t=e.parent;t!==null;){if(!(t.f&pe))return t;t=t.parent}return null}function yr(e){var t,n=L;$e(Fo(e));try{br(e),t=Rr(e)}finally{$e(n)}return t}function Er(e){var t=yr(e),n=(Ze||e.f&Ye)&&e.deps!==null?bt:te;ke(e,n),e.equals(t)||(e.v=t,e.version=Or())}function Dn(e){br(e),mt(e,0),ke(e,ot),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Ho(e){L===null&&H===null&&To(),H!==null&&H.f&Ye&&xo(),Rn&&ko()}function Io(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function it(e,t,n,r=!0){var o=(e&wt)!==0,s=L,l={ctx:ee,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Re,first:null,fn:t,last:null,next:null,parent:o?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var d=Qe;try{Qn(!0),Wt(l),l.f|=bo}catch(h){throw Fe(l),h}finally{Qn(d)}}else t!==null&&Yt(l);var v=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&hr)===0;if(!v&&!o&&r&&(s!==null&&Io(l,s),H!==null&&H.f&pe)){var f=H;(f.children??(f.children=[])).push(l)}return l}function Cr(e){const t=it(gt,null,!1);return ke(t,te),t.teardown=e,t}function Ot(e){Ho();var t=L!==null&&(L.f&_e)!==0&&ee!==null&&!ee.m;if(t){var n=ee;(n.e??(n.e=[])).push({fn:e,effect:L,reaction:H})}else{var r=Mn(e);return r}}function Ln(e){const t=it(wt,e,!0);return()=>{Fe(t)}}function Mn(e){return it(dr,e,!1)}function jt(e){return it(gt,e,!0)}function ye(e){return Vt(e)}function Vt(e,t=0){return it(gt|xn|t,e,!0)}function rt(e,t=!0){return it(gt|_e,e,!0,t)}function $r(e){var t=e.teardown;if(t!==null){const n=Rn,r=H;er(!0),Pe(null);try{t.call(null)}finally{er(n),Pe(r)}}}function kr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Dn(t[n])}}function xr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;Fe(n,t),n=r}}function Bo(e){for(var t=e.first;t!==null;){var n=t.next;t.f&_e||Fe(t),t=n}}function Fe(e,t=!0){var n=!1;if((t||e.f&yo)&&e.nodes_start!==null){for(var r=e.nodes_start,o=e.nodes_end;r!==null;){var s=r===o?null:De(r);r.remove(),r=s}n=!0}xr(e,t&&!n),kr(e),mt(e,0),ke(e,ot);var l=e.transitions;if(l!==null)for(const v of l)v.stop();$r(e);var d=e.parent;d!==null&&d.first!==null&&Tr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Tr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function hn(e,t){var n=[];On(e,n,!0),Nr(n,()=>{Fe(e),t&&t()})}function Nr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function On(e,t,n){if(!(e.f&Ee)){if(e.f^=Ee,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var o=r.next,s=(r.f&Ht)!==0||(r.f&_e)!==0;On(r,t,s?n:!1),r=o}}}function Rt(e){Sr(e,!0)}function Sr(e,t){if(e.f&Ee){yt(e)&&Wt(e),e.f^=Ee;for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Ht)!==0||(n.f&_e)!==0;Sr(n,o?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}const jo=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let qt=!1,Pt=!1,vn=[],pn=[];function Ar(){qt=!1;const e=vn.slice();vn=[],fr(e)}function Dr(){Pt=!1;const e=pn.slice();pn=[],fr(e)}function We(e){qt||(qt=!0,queueMicrotask(Ar)),vn.push(e)}function Vo(e){Pt||(Pt=!0,jo(Dr)),pn.push(e)}function zo(){qt&&Ar(),Pt&&Dr()}const Lr=0,Wo=1;let Tt=!1,Nt=Lr,pt=!1,_t=null,Qe=!1,Rn=!1;function Qn(e){Qe=e}function er(e){Rn=e}let Be=[],et=0;let H=null;function Pe(e){H=e}let L=null;function $e(e){L=e}let Ce=null;function Yo(e){Ce=e}let G=null,re=0,Oe=null;function Uo(e){Oe=e}let Mr=0,Ze=!1,ee=null;function Or(){return++Mr}function Xo(){return!_r}function yt(e){var l,d;var t=e.f;if(t&Re)return!0;if(t&bt){var n=e.deps,r=(t&Ye)!==0;if(n!==null){var o;if(t&Lt){for(o=0;o<n.length;o++)((l=n[o]).reactions??(l.reactions=[])).push(e);e.f^=Lt}for(o=0;o<n.length;o++){var s=n[o];if(yt(s)&&Er(s),r&&L!==null&&!Ze&&!((d=s==null?void 0:s.reactions)!=null&&d.includes(e))&&(s.reactions??(s.reactions=[])).push(e),s.version>e.version)return!0}}r||ke(e,te)}return!1}function Go(e,t){for(var n=t;n!==null;){if(n.f&un)try{n.fn(e);return}catch{n.f^=un}n=n.parent}throw Tt=!1,e}function Ko(e){return(e.f&ot)===0&&(e.parent===null||(e.parent.f&un)===0)}function zt(e,t,n,r){if(Tt){if(n===null&&(Tt=!1),Ko(t))throw e;return}n!==null&&(Tt=!0);{Go(e,t);return}}function Rr(e){var g;var t=G,n=re,r=Oe,o=H,s=Ze,l=Ce,d=ee,v=e.f;G=null,re=0,Oe=null,H=v&(_e|wt)?null:e,Ze=!Qe&&(v&Ye)!==0,Ce=null,ee=e.ctx;try{var f=(0,e.fn)(),h=e.deps;if(G!==null){var m;if(mt(e,re),h!==null&&re>0)for(h.length=re+G.length,m=0;m<G.length;m++)h[re+m]=G[m];else e.deps=h=G;if(!Ze)for(m=re;m<h.length;m++)((g=h[m]).reactions??(g.reactions=[])).push(e)}else h!==null&&re<h.length&&(mt(e,re),h.length=re);return f}finally{G=t,re=n,Oe=r,H=o,Ze=s,Ce=l,ee=d}}function Jo(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&t.f&pe&&(G===null||!G.includes(t))&&(ke(t,bt),t.f&(Ye|Lt)||(t.f^=Lt),mt(t,0))}function mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Jo(e,n[r])}function Wt(e){var t=e.f;if(!(t&ot)){ke(e,te);var n=L,r=ee;L=e;try{t&xn?Bo(e):xr(e),kr(e),$r(e);var o=Rr(e);e.teardown=typeof o=="function"?o:null,e.version=Mr}catch(s){zt(s,e,n,r||e.ctx)}finally{L=n}}}function qr(){if(et>1e3){et=0;try{No()}catch(e){if(_t!==null)zt(e,_t,null);else throw e}}et++}function Pr(e){var t=e.length;if(t!==0){qr();var n=Qe;Qe=!0;try{for(var r=0;r<t;r++){var o=e[r];o.f&te||(o.f^=te);var s=[];Fr(o,s),Zo(s)}}finally{Qe=n}}}function Zo(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(ot|Ee)))try{yt(r)&&(Wt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Tr(r):r.fn=null))}catch(o){zt(o,r,null,r.ctx)}}}function Qo(){if(pt=!1,et>1001)return;const e=Be;Be=[],Pr(e),pt||(et=0,_t=null)}function Yt(e){Nt===Lr&&(pt||(pt=!0,queueMicrotask(Qo))),_t=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(wt|_e)){if(!(n&te))return;t.f^=te}}Be.push(t)}function Fr(e,t){var n=e.first,r=[];e:for(;n!==null;){var o=n.f,s=(o&_e)!==0,l=s&&(o&te)!==0,d=n.next;if(!l&&!(o&Ee))if(o&gt){if(s)n.f^=te;else try{yt(n)&&Wt(n)}catch(m){zt(m,n,null,n.ctx)}var v=n.first;if(v!==null){n=v;continue}}else o&dr&&r.push(n);if(d===null){let m=n.parent;for(;m!==null;){if(e===m)break e;var f=m.next;if(f!==null){n=f;continue e}m=m.parent}}n=d}for(var h=0;h<r.length;h++)v=r[h],t.push(v),Fr(v,t)}function Ue(e){var t=Nt,n=Be;try{qr();const o=[];Nt=Wo,Be=o,pt=!1,Pr(n);var r=e==null?void 0:e();return zo(),(Be.length>0||o.length>0)&&Ue(),et=0,_t=null,r}finally{Nt=t,Be=n}}function x(e){var h;var t=e.f,n=(t&pe)!==0;if(n&&t&ot){var r=yr(e);return Dn(e),r}if(H!==null){Ce!==null&&Ce.includes(e)&&Mo();var o=H.deps;G===null&&o!==null&&o[re]===e?re++:G===null?G=[e]:G.push(e),Oe!==null&&L!==null&&L.f&te&&!(L.f&_e)&&Oe.includes(e)&&(ke(L,Re),Yt(L))}else if(n&&e.deps===null)for(var s=e,l=s.parent,d=s;l!==null;)if(l.f&pe){var v=l;d=v,l=v.parent}else{var f=l;(h=f.deriveds)!=null&&h.includes(d)||(f.deriveds??(f.deriveds=[])).push(d);break}return n&&(s=e,yt(s)&&Er(s)),e.v}function qn(e){const t=H;try{return H=null,e()}finally{H=t}}const ei=~(Re|bt|te);function ke(e,t){e.f=e.f&ei|t}function st(e,t=!1,n){ee={p:ee,c:null,e:null,m:!1,s:e,x:null,l:null}}function lt(e){const t=ee;if(t!==null){e!==void 0&&(t.x=e);const l=t.e;if(l!==null){var n=L,r=H;t.e=null;try{for(var o=0;o<l.length;o++){var s=l[o];$e(s.effect),Pe(s.reaction),Mn(s.fn)}}finally{$e(n),Pe(r)}}ee=t.p,t.m=!0}return e||{}}function ti(e,t){{const n=document.body;e.autofocus=!0,We(()=>{document.activeElement===n&&e.focus()})}}function ni(e){P&&qe(e)!==null&&An(e)}let tr=!1;function Hr(){tr||(tr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Ir(e){var t=H,n=L;Pe(null),$e(null);try{return e()}finally{Pe(t),$e(n)}}function Br(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Hr()}const jr=new Set,_n=new Set;function ri(e,t,n,r){function o(s){if(r.capture||ft.call(t,s),!s.cancelBubble)return Ir(()=>n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?We(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function be(e,t,n,r,o){var s={capture:r,passive:o},l=ri(e,t,n,s);(t===document.body||t===window||t===document)&&Cr(()=>{t.removeEventListener(e,l,s)})}function Vr(e){for(var t=0;t<e.length;t++)jr.add(e[t]);for(var n of _n)n(e)}function ft(e){var M;var t=this,n=t.ownerDocument,r=e.type,o=((M=e.composedPath)==null?void 0:M.call(e))||[],s=o[0]||e.target,l=0,d=e.__root;if(d){var v=o.indexOf(d);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var f=o.indexOf(t);if(f===-1)return;v<=f&&(l=v)}if(s=o[l]||e.target,s!==t){Dt(e,"currentTarget",{configurable:!0,get(){return s||n}});var h=H,m=L;Pe(null),$e(null);try{for(var g,w=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var N=s["__"+r];if(N!==void 0&&!s.disabled)if($n(N)){var[D,...O]=N;D.apply(s,[e,...O])}else N.call(s,e)}catch($){g?w.push($):g=$}if(e.cancelBubble||y===t||y===null)break;s=y}if(g){for(let $ of w)queueMicrotask(()=>{throw $});throw g}}finally{e.__root=t,delete e.currentTarget,Pe(h),$e(m)}}}function oi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function tt(e,t){var n=L;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function me(e,t){var n=(t&po)!==0,r=(t&_o)!==0,o,s=!e.startsWith("<!>");return()=>{if(P)return tt(F,null),F;o===void 0&&(o=oi(s?e:"<!>"+e),n||(o=qe(o)));var l=r?document.importNode(o,!0):o.cloneNode(!0);if(n){var d=qe(l),v=l.lastChild;tt(d,v)}else tt(l,l);return l}}function ii(){if(P)return tt(F,null),F;var e=document.createDocumentFragment(),t=document.createComment(""),n=nt();return e.append(t,n),tt(t,n),e}function se(e,t){if(P){L.nodes_end=F,It();return}e!==null&&e.before(t)}const si=["touchstart","touchmove"];function li(e){return si.includes(e)}function nn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function zr(e,t){return Wr(e,t)}function ai(e,t){dn(),t.intro=t.intro??!1;const n=t.target,r=P,o=F;try{for(var s=qe(n);s&&(s.nodeType!==8||s.data!==ar);)s=De(s);if(!s)throw ht;Se(!0),ve(s),It();const l=Wr(e,{...t,anchor:s});if(F===null||F.nodeType!==8||F.data!==Cn)throw Nn(),ht;return Se(!1),l}catch(l){if(l===ht)return t.recover===!1&&So(),dn(),An(n),Se(!1),zr(e,t);throw l}finally{Se(r),ve(o)}}const Je=new Map;function Wr(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:l=!0}){dn();var d=new Set,v=m=>{for(var g=0;g<m.length;g++){var w=m[g];if(!d.has(w)){d.add(w);var y=li(w);t.addEventListener(w,ft,{passive:y});var N=Je.get(w);N===void 0?(document.addEventListener(w,ft,{passive:y}),Je.set(w,1)):Je.set(w,N+1)}}};v(kn(jr)),_n.add(v);var f=void 0,h=Ln(()=>{var m=n??t.appendChild(nt());return rt(()=>{if(s){st({});var g=ee;g.c=s}o&&(r.$$events=o),P&&tt(m,null),f=e(m,r)||{},P&&(L.nodes_end=F),s&&lt()}),()=>{var y;for(var g of d){t.removeEventListener(g,ft);var w=Je.get(g);--w===0?(document.removeEventListener(g,ft),Je.delete(g)):Je.set(g,w)}_n.delete(v),mn.delete(f),m!==n&&((y=m.parentNode)==null||y.removeChild(m))}});return mn.set(f,h),f}let mn=new WeakMap;function ui(e){const t=mn.get(e);t&&t()}function Ft(e,t,n=!1){P&&It();var r=e,o=null,s=null,l=Q,d=n?Ht:0,v=!1;const f=(m,g=!0)=>{v=!0,h(g,m)},h=(m,g)=>{if(l===(l=m))return;let w=!1;if(P){const y=r.data===En;!!l===y&&(r=fn(),ve(r),Se(!1),w=!0)}l?(o?Rt(o):g&&(o=rt(()=>g(r))),s&&hn(s,()=>{s=null})):(s?Rt(s):g&&(s=rt(()=>g(r))),o&&hn(o,()=>{o=null})),w&&Se(!0)};Vt(()=>{v=!1,t(f),v||h(null,null)},d),P&&(r=F)}function ci(e,t){return t}function fi(e,t,n,r){for(var o=[],s=t.length,l=0;l<s;l++)On(t[l].e,o,!0);var d=s>0&&o.length===0&&n!==null;if(d){var v=n.parentNode;An(v),v.append(n),r.clear(),Le(e,t[0].prev,t[s-1].next)}Nr(o,()=>{for(var f=0;f<s;f++){var h=t[f];d||(r.delete(h.k),Le(e,h.prev,h.next)),Fe(h.e,!d)}})}function Pn(e,t,n,r,o,s=null){var l=e,d={flags:t,items:new Map,first:null},v=(t&lr)!==0;if(v){var f=e;l=P?ve(qe(f)):f.appendChild(nt())}P&&It();var h=null,m=!1;Vt(()=>{var g=n(),w=$n(g)?g:g==null?[]:kn(g),y=w.length;if(m&&y===0)return;m=y===0;let N=!1;if(P){var D=l.data===En;D!==(y===0)&&(l=fn(),ve(l),Se(!1),N=!0)}if(P){for(var O=null,M,$=0;$<y;$++){if(F.nodeType===8&&F.data===Cn){l=F,N=!0,Se(!1);break}var k=w[$],T=r(k,$);M=Yr(F,d,O,null,k,T,$,o,t),d.items.set(T,M),O=M}y>0&&ve(fn())}if(!P){var U=H;di(w,d,l,o,t,(U.f&Ee)!==0,r)}s!==null&&(y===0?h?Rt(h):h=rt(()=>s(l)):h!==null&&hn(h,()=>{h=null})),N&&Se(!0),n()}),P&&(l=F)}function di(e,t,n,r,o,s,l){var fe,K,de,He;var d=(o&fo)!==0,v=(o&(bn|yn))!==0,f=e.length,h=t.items,m=t.first,g=m,w,y=null,N,D=[],O=[],M,$,k,T;if(d)for(T=0;T<f;T+=1)M=e[T],$=l(M,T),k=h.get($),k!==void 0&&((fe=k.a)==null||fe.measure(),(N??(N=new Set)).add(k));for(T=0;T<f;T+=1){if(M=e[T],$=l(M,T),k=h.get($),k===void 0){var U=g?g.e.nodes_start:n;y=Yr(U,t,y,y===null?t.first:y.next,M,$,T,r,o),h.set($,y),D=[],O=[],g=y.next;continue}if(v&&hi(k,M,T,o),k.e.f&Ee&&(Rt(k.e),d&&((K=k.a)==null||K.unfix(),(N??(N=new Set)).delete(k))),k!==g){if(w!==void 0&&w.has(k)){if(D.length<O.length){var X=O[0],S;y=X.prev;var I=D[0],W=D[D.length-1];for(S=0;S<D.length;S+=1)nr(D[S],X,n);for(S=0;S<O.length;S+=1)w.delete(O[S]);Le(t,I.prev,W.next),Le(t,y,I),Le(t,W,X),g=X,y=W,T-=1,D=[],O=[]}else w.delete(k),nr(k,g,n),Le(t,k.prev,k.next),Le(t,k,y===null?t.first:y.next),Le(t,y,k),y=k;continue}for(D=[],O=[];g!==null&&g.k!==$;)(s||!(g.e.f&Ee))&&(w??(w=new Set)).add(g),O.push(g),g=g.next;if(g===null)continue;k=g}D.push(k),y=k,g=k.next}if(g!==null||w!==void 0){for(var q=w===void 0?[]:kn(w);g!==null;)(s||!(g.e.f&Ee))&&q.push(g),g=g.next;var R=q.length;if(R>0){var Y=o&lr&&f===0?n:null;if(d){for(T=0;T<R;T+=1)(de=q[T].a)==null||de.measure();for(T=0;T<R;T+=1)(He=q[T].a)==null||He.fix()}fi(t,q,Y,h)}}d&&We(()=>{var at;if(N!==void 0)for(k of N)(at=k.a)==null||at.apply()}),L.first=t.first&&t.first.e,L.last=y&&y.e}function hi(e,t,n,r){r&bn&&cn(e.v,t),r&yn?cn(e.i,n):e.i=n}function Yr(e,t,n,r,o,s,l,d,v){var f=(v&bn)!==0,h=(v&ho)===0,m=f?h?Tn(o):ae(o):o,g=v&yn?ae(l):l,w={i:g,v:m,k:s,a:null,e:null,prev:n,next:r};try{return w.e=rt(()=>d(e,m,g),P),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?t.first=w:(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function nr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var l=De(s);o.before(s),s=l}}function Le(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function vi(e,t,...n){var r=e,o=cr,s;Vt(()=>{o!==(o=t())&&(s&&(Fe(s),s=null),s=rt(()=>o(r,...n)))},Ht),P&&(r=F)}function Ut(e,t){We(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const o=document.createElement("style");o.id=t.hash,o.textContent=t.code,r.appendChild(o)}})}function pi(e){if(P){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;ue(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;ue(e,"checked",null),e.checked=o}}};e.__on_r=n,Vo(n),Hr()}}function _i(e,t){var n=e.__attributes??(e.__attributes={});n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t)}function ue(e,t,n,r){var o=e.__attributes??(e.__attributes={});P&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Eo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&mi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var rr=new Map;function mi(e){var t=rr.get(e.nodeName);if(t)return t;rr.set(e.nodeName,t=[]);for(var n,r=an(e),o=Element.prototype;o!==r;){n=mo(r);for(var s in n)n[s].set&&t.push(s);r=an(r)}return t}function vt(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function gi(e,t,n,r){var o=e.__styles??(e.__styles={});o[t]!==n&&(o[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}function wi(e,t,n=t){Br(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=on(e)?sn(o):o,n(o),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),(P&&e.defaultValue!==e.value||qn(t)==null&&e.value)&&n(on(e)?sn(e.value):e.value),jt(()=>{var r=t();on(e)&&r===sn(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const rn=new Set;function bi(e,t,n,r,o=r){var s=n.getAttribute("type")==="checkbox",l=e;let d=!1;if(t!==null)for(var v of t)l=l[v]??(l[v]=[]);l.push(n),Br(n,"change",()=>{var f=n.__value;s&&(f=or(l,f,n.checked)),o(f)},()=>o(s?[]:null)),jt(()=>{var f=r();if(P&&n.defaultChecked!==n.checked){d=!0;return}s?(f=f||[],n.checked=f.includes(n.__value)):n.checked=Po(n.__value,f)}),Cr(()=>{var f=l.indexOf(n);f!==-1&&l.splice(f,1)}),rn.has(l)||(rn.add(l),We(()=>{l.sort((f,h)=>f.compareDocumentPosition(h)===4?-1:1),rn.delete(l)})),We(()=>{if(d){var f;if(s)f=or(l,f,n.checked);else{var h=l.find(m=>m.checked);f=h==null?void 0:h.__value}o(f)}})}function or(e,t,n){for(var r=new Set,o=0;o<e.length;o+=1)e[o].checked&&r.add(e[o].__value);return n||r.delete(t),Array.from(r)}function on(e){var t=e.type;return t==="number"||t==="range"}function sn(e){return e===""?null:+e}function ir(e,t){return e===t||(e==null?void 0:e[Ve])===t}function gn(e={},t,n,r){return Mn(()=>{var o,s;return jt(()=>{o=s,s=[],qn(()=>{e!==n(...s)&&(t(e,...s),o&&ir(n(...o),e)&&t(null,...o))})}),()=>{We(()=>{s&&ir(n(...s),e)&&t(null,...s)})}}),e}function yi(e){for(var t=L,n=L;t!==null&&!(t.f&(_e|wt));)t=t.parent;try{return $e(t),e()}finally{$e(n)}}function Et(e,t,n,r){var k;var o=!_r,s=(n&vo)!==0,l=!1,d;d=e[t];var v=Ve in e||vr in e,f=((k=je(e,t))==null?void 0:k.set)??(v&&s&&t in e?T=>e[t]=T:void 0),h=r,m=!0,g=!1,w=()=>(g=!0,m&&(m=!1,h=r),h);d===void 0&&r!==void 0&&(f&&o&&Ao(),d=w(),f&&f(d));var y;if(y=()=>{var T=e[t];return T===void 0?w():(m=!0,g=!1,T)},f){var N=e.$$legacy;return function(T,U){return arguments.length>0?((!U||N||l)&&f(U?y():T),T):y()}}var D=!1,O=!1,M=Tn(d),$=yi(()=>Bt(()=>{var T=y(),U=x(M);return D?(D=!1,O=!0,U):(O=!1,M.v=T)}));return function(T,U){if(arguments.length>0){const X=U?x($):T;return $.equals(X)||(D=!0,j(M,X),g&&h!==void 0&&(h=X),qn(()=>x($))),T}return x($)}}function Ei(e){return new Ci(e)}var Te,le;class Ci{constructor(t){en(this,Te);en(this,le);var s;var n=new Map,r=(l,d)=>{var v=Tn(d);return n.set(l,v),v};const o=new Proxy({...t.props||{},$$events:{}},{get(l,d){return x(n.get(d)??r(d,Reflect.get(l,d)))},has(l,d){return d===vr?!0:(x(n.get(d)??r(d,Reflect.get(l,d))),Reflect.has(l,d))},set(l,d,v){return j(n.get(d)??r(d,v),v),Reflect.set(l,d,v)}});tn(this,le,(t.hydrate?ai:zr)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&Ue(),tn(this,Te,o.$$events);for(const l of Object.keys(Z(this,le)))l==="$set"||l==="$destroy"||l==="$on"||Dt(this,l,{get(){return Z(this,le)[l]},set(d){Z(this,le)[l]=d},enumerable:!0});Z(this,le).$set=l=>{Object.assign(o,l)},Z(this,le).$destroy=()=>{ui(Z(this,le))}}$set(t){Z(this,le).$set(t)}$on(t,n){Z(this,Te)[t]=Z(this,Te)[t]||[];const r=(...o)=>n.call(this,...o);return Z(this,Te)[t].push(r),()=>{Z(this,Te)[t]=Z(this,Te)[t].filter(o=>o!==r)}}$destroy(){Z(this,le).$destroy()}}Te=new WeakMap,le=new WeakMap;let Ur;typeof HTMLElement=="function"&&(Ur=class extends HTMLElement{constructor(t,n,r){super();he(this,"$$ctor");he(this,"$$s");he(this,"$$c");he(this,"$$cn",!1);he(this,"$$d",{});he(this,"$$r",!1);he(this,"$$p_d",{});he(this,"$$l",{});he(this,"$$l_u",new Map);he(this,"$$me");this.$$ctor=t,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(t,n,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){const o=this.$$c.$on(t,n);this.$$l_u.set(n,o)}super.addEventListener(t,n,r)}removeEventListener(t,n,r){if(super.removeEventListener(t,n,r),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return s=>{const l=document.createElement("slot");o!=="default"&&(l.name=o),se(s,l)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=$i(this);for(const o of this.$$s)o in r&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),n.default=!0):n[o]=t(o));for(const o of this.attributes){const s=this.$$g_p(o.name);s in this.$$d||(this.$$d[s]=St(s,o.value,this.$$p_d,"toProp"))}for(const o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=Ei({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Ln(()=>{jt(()=>{var o;this.$$r=!0;for(const s of At(this.$$c)){if(!((o=this.$$p_d[s])!=null&&o.reflect))continue;this.$$d[s]=this.$$c[s];const l=St(s,this.$$d[s],this.$$p_d,"toAttribute");l==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,l)}this.$$r=!1})});for(const o in this.$$l)for(const s of this.$$l[o]){const l=this.$$c.$on(o,s);this.$$l_u.set(s,l)}this.$$l={}}}attributeChangedCallback(t,n,r){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=St(t,r,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return At(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function St(e,t,n,r){var s;const o=(s=n[e])==null?void 0:s.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function $i(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function Ct(e,t,n,r,o,s){let l=class extends Ur{constructor(){super(e,n,o),this.$$p_d=t}static get observedAttributes(){return At(t).map(d=>(t[d].attribute||d).toLowerCase())}};return At(t).forEach(d=>{Dt(l.prototype,d,{get(){return this.$$c&&d in this.$$c?this.$$c[d]:this.$$d[d]},set(v){var m;v=St(d,v,t),this.$$d[d]=v;var f=this.$$c;if(f){var h=(m=je(f,d))==null?void 0:m.get;h?f[d]=v:f.$set({[d]:v})}}})}),r.forEach(d=>{Dt(l.prototype,d,{get(){var v;return(v=this.$$c)==null?void 0:v[d]}})}),e.element=l,l}const Ae=new Map([["yellow","#F8B920"],["red","#FF4646"],["blue","#0064FF"],["green","#00C564"]]),ki=["SCRIPT","STYLE","NOSCRIPT","TEXTAREA","OPTION"];function Fn(e){const t=document.documentElement.lang||void 0,n=e.map(d=>d.trim().toLocaleLowerCase(t)),r=n.map(()=>({start:null,end:null,shift:0})),o=n.map(()=>[]),s=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,d=>{var v,f;return ki.includes((v=d.parentNode)==null?void 0:v.tagName)||((f=d.parentNode)==null?void 0:f.contentEditable)=="true"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let l;for(;l=s.nextNode();)if(l!=null&&l.nodeValue)for(let d=0;d<l.nodeValue.length;d++){const v=l.nodeValue[d].toLocaleLowerCase(t).trim();v&&n.forEach((f,h)=>{var g,w;for(;f[r[h].shift]&&!f[r[h].shift].trim();)r[h].shift++;let m=f[r[h].shift]===v;if(!m&&r[h].shift&&(r[h].shift=0,m=f[r[h].shift]===v),m&&(r[h].shift||(r[h].start=[l,d]),r[h].end=[l,d],r[h].shift++),r[h].shift>=f.length){const y=document.createRange();y.setStart(r[h].start[0],r[h].start[1]),y.setEnd(r[h].end[0],r[h].end[1]+1),!y.collapsed&&(!((g=y.commonAncestorContainer.parentElement)!=null&&g.checkVisibility)||(w=y.commonAncestorContainer.parentElement)!=null&&w.checkVisibility())?o[h].push(y):y.detach(),m=!1}m||(r[h].shift=0,r[h].start=null,r[h].end=null)})}return o}const ze=`rh-${new Date().getTime()}-`,Xt="highlights"in CSS;function xi(e){if(!e.length&&!CSS.highlights.size)return;const t=[];if(CSS.highlights.clear(),e.length){const r=Fn(e.map(({text:o})=>o||""));for(const o in e){const s=r[o];if(!s.length)continue;const{_id:l,color:d,note:v,index:f=0}=e[o],h=`${ze}${l}`,m=(s==null?void 0:s[f])||s[0];CSS.highlights.set(h,new Highlight(m));const g=m.getBoundingClientRect();t.push(`
                ::highlight(${h}) {
                    all: unset;
                    background-color: color-mix(in srgb, ${Ae.get(d)||d||"yellow"}, white 60%) !important;
                    color: color-mix(in srgb, ${Ae.get(d)||d||"yellow"}, black 80%) !important;
                    ${v?"text-decoration: underline wavy; -webkit-text-decoration: underline wavy;":""}
                    text-decoration-thickness: from-font;
                }

                /* fuck you dark reader */
                html[data-darkreader-scheme="dark"] ::highlight(${h}) {
                    color: CanvasText !important;
                }

                /* pdf render */
                .pdf ::highlight(${h}) {
                    background-color: color-mix(in srgb, ${Ae.get(d)||d||"yellow"}, transparent 60%) !important;
                    color: transparent !important;
                }

                :root {
                    --highlight-${l}-top: ${(100/document.documentElement.scrollHeight*(window.scrollY+g.top-10)).toFixed(2)}%;
                }
            `);for(const w of s)w.detach()}}const n=(()=>{let r=document.getElementById(ze);return r||(r=document.createElement("style"),r.id=ze,document.head.appendChild(r)),r})();n.innerHTML=t.join(`
`)}function Ti(){var e;(e=document.getElementById(ze))==null||e.remove()}function Ni(e){var t;for(const[n,r]of CSS.highlights){const o=n.replace(ze,"");if(e==o)for(const s of r){(t=s.startContainer.parentElement)==null||t.scrollIntoView({behavior:"smooth",block:"start"});break}}}function Si(e){let t;for(const[n,r]of CSS.highlights)for(const o of r){const s=e.compareBoundaryPoints(Range.START_TO_START,o),l=e.compareBoundaryPoints(Range.END_TO_END,o);(s==0&&l==0||e!=null&&e.collapsed&&s>=0&&l<=0)&&(t=[n.replace(ze,""),o])}if(t)return t[0].replace(ze,"")}const Ne=`rh-${new Date().getTime()}`;function Ai(e){const t=document.body.querySelectorAll(`.${Ne}`);if(!e.length&&!t.length)return;t.forEach(s=>s.outerHTML=s.innerText);const n=[],r=Fn(e.map(({text:s})=>s||""));for(const s in e){const{_id:l,color:d}=e[s];for(const v of r[s]){const f=document.createElement("mark");f.className=Ne,f.setAttribute("data-id",String(l)),f.append(v.extractContents()),v.insertNode(f),v.detach()}n.push(`
            .${Ne}[data-id="${l}"] {
                all: unset;
                display: inline-block !important;
                background-color: white !important;
                background-image: linear-gradient(to bottom, ${sr(Ae.get(d)||d,.4)} 0, ${sr(Ae.get(d)||d,.4)} 100%) !important;
                color: black !important;
            }
        `)}const o=(()=>{let s=document.getElementById(Ne);return s||(s=document.createElement("style"),s.id=Ne,document.head.appendChild(s)),s})();o.innerHTML=n.join(`
`)}function Di(){var e;document.body.querySelectorAll(`.${Ne}`).forEach(t=>t.outerHTML=t.innerText),(e=document.getElementById(Ne))==null||e.remove()}function Li(e){const t=document.body.querySelector(`.${Ne}[data-id="${e}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function Mi(e){const t=e.commonAncestorContainer.nodeType==Node.ELEMENT_NODE?e.commonAncestorContainer:e.commonAncestorContainer.parentElement;if((t==null?void 0:t.className)==Ne){if(!e.collapsed){const n=new Range;n.selectNodeContents(e.commonAncestorContainer);const r=e.compareBoundaryPoints(Range.START_TO_START,n),o=e.compareBoundaryPoints(Range.END_TO_END,n);if(n.detach(),r!=0||o!=0)return}return t.getAttribute("data-id")||void 0}}function sr(e,t){if(!e)return e;const n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return`rgba(${n}, ${r}, ${o}, ${t})`}function Oi(e){return Xt?xi(e):Ai(e)}function ln(e){return Oi(e)}function Ri(){return Xt?Ti():Di()}function Xr(e){return Xt?Ni(e):Li(e)}function Gr(){var n,r,o;const e=document.getSelection();if(!(e!=null&&e.rangeCount))return;const t=e.getRangeAt(0);if(!((o=((n=t==null?void 0:t.commonAncestorContainer)==null?void 0:n.nodeType)==1?t==null?void 0:t.commonAncestorContainer:(r=t==null?void 0:t.commonAncestorContainer)==null?void 0:r.parentElement)!=null&&o.closest('[contenteditable=""], [contenteditable=true]')))return t}function dt(){const e=document.getSelection();e!=null&&e.rangeCount&&e.removeAllRanges()}function qi(e){return Xt?Si(e):Mi(e)}function Kr(e){if(!e)return"";var t=document.createElement("div");t.appendChild(e.cloneContents().cloneNode(!0)),t.querySelectorAll("tspan").forEach(r=>r.outerHTML=`<span>${r.innerHTML}</span>`),t.querySelectorAll("text").forEach(r=>r.outerHTML=`<div>${r.innerHTML}</div>`),document.body.appendChild(t);const n=t.innerText;return document.body.removeChild(t),t=void 0,n}function Pi(e){if(!e)return;const t=Kr(e);if(!t)return;const[n]=Fn([t]),r=n.findIndex(o=>{const s=o.compareBoundaryPoints(Range.START_TO_START,e),l=o.compareBoundaryPoints(Range.END_TO_END,e);return s==0&&l==0||(e==null?void 0:e.collapsed)&&s>=0&&l<=0});return r==-1?void 0:r}function Fi(e,t,n){let r=Me(ce([])),o=Me(!1),s=Me(!1),l=Me(void 0);function d(w){const y=qi(w);if(y)return x(r).find(D=>D._id==y);const N=Kr(w).trim();if(N)return{text:N,index:Pi(w)}}function v(w){const y={...typeof w._id=="string"?{_id:w._id}:{},...typeof w.text=="string"?{text:w.text}:{},...typeof w.note=="string"?{note:w.note}:{},...typeof w.index=="number"?{index:w.index}:{},color:w.color||"yellow"};if(!y.text)return;const N=x(r).findIndex(D=>{var O,M;return D._id==y._id||((O=D.text)==null?void 0:O.toLocaleLowerCase().trim())===((M=y.text)==null?void 0:M.toLocaleLowerCase().trim())});N!=-1?(y._id=x(r)[N]._id,x(r)[N]=y,t(y)):(x(r).push(y),e(y))}function f({_id:w}){j(r,ce(x(r).filter(y=>y._id!=w))),n({_id:w})}function h(w){j(l,ce(JSON.parse(JSON.stringify(w))))}function m(){x(l)&&(v(x(l)),j(l,void 0))}function g(){j(l,void 0)}return{get highlights(){return x(r)},set highlights(w){j(r,ce(w))},get pro(){return x(o)},set pro(w){j(o,ce(w))},get nav(){return x(s)},set nav(w){j(s,ce(w))},get draft(){return x(l)},find:d,upsert:v,remove:f,setDraft:h,draftSubmit:m,draftCancel:g}}const Hi="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hi);function Ii(e,t){let n=null,r=!0;return function(...s){n||(r?(e(...s),r=!1):(clearTimeout(n),n=setTimeout(()=>{e(...s),clearTimeout(n),n=null},t)))}}function wn(){var e;return(e=navigator==null?void 0:navigator.userAgentData)!=null&&e.mobile?!0:/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)}var Bi=me('<button type="submit" class="svelte-1rsw1q7"><span class="color svelte-1rsw1q7"></span></button>'),ji=me('<button type="submit" value="remove" title="Delete highlight" aria-label="Delete highlight" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><line x1="2.75" y1="4.25" x2="15.25" y2="4.25" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></line><path d="M6.75,4.25v-1.5c0-.552,.448-1,1-1h2.5c.552,0,1,.448,1,1v1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path><path d="M13.5,6.75l-.4,7.605c-.056,1.062-.934,1.895-1.997,1.895H6.898c-1.064,0-1.941-.833-1.997-1.895l-.4-7.605" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path></g></svg></button>'),Vi=me('<dialog class="svelte-1rsw1q7"><form method="dialog" class="svelte-1rsw1q7"><!> <button type="submit" value="note" title="Add note" aria-label="Add note" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><path stroke-linecap="round" stroke-linejoin="round" d="M9,1.75C4.996,1.75,1.75,4.996,1.75,9c0,1.319,.358,2.552,.973,3.617,.43,.806-.053,2.712-.973,3.633,1.25,.068,2.897-.497,3.633-.973,.489,.282,1.264,.656,2.279,.848,.433,.082,.881,.125,1.338,.125,4.004,0,7.25-3.246,7.25-7.25S13.004,1.75,9,1.75Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M9,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M5.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M12.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path></g></svg></button> <!></form></dialog>');const zi={hash:"svelte-1rsw1q7",code:`.svelte-1rsw1q7 {user-select:none;-webkit-user-select:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-1rsw1q7 {transform-origin:0 0;transform:scale(var(--mobile-zoom-level, 1));--control-size: 16px;--padding-s: 6px;--padding-m: 8px;--bg-light: rgb(255, 255, 255);--bg-dark: rgb(60, 60, 60);--control-fg-light: rgb(65, 65, 65);--control-fg-dark: rgb(230, 230, 230);--hover-bg-light: rgba(0,0,0,.07);--hover-bg-dark: rgba(255,255,255,.1);--active-bg-light: rgba(0,0,0,.13);--active-bg-dark: rgba(255,255,255,.2);}

    /* Safari iOS fix position bug */
    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {transform-origin:top right;}
    }

    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {--bg-light: rgba(255, 255, 255, .8);--bg-dark: rgba(60, 60, 60, .8);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);}
    }dialog.mobile.svelte-1rsw1q7 {--control-size: 26px;}dialog.svelte-1rsw1q7 {position:absolute;left:unset;top:unset;right:unset;bottom:unset;border:none;padding:2px;border-radius:var(--control-size);overflow:clip;z-index:999999999999999;background:var(--bg-light);color:var(--control-fg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));color:light-dark(var(--control-fg-light), var(--control-fg-dark));
        }}

    /* dialog.mobile.new {
        position: fixed;
        top: auto !important;
        left: auto !important;
        right: 16px !important;
        bottom: 16px !important;
        margin-right: env(safe-area-inset-right);
        margin-bottom: env(safe-area-inset-bottom);
    } */[open].svelte-1rsw1q7 {box-shadow:0 0 0 .5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.05), 0 15px 40px rgba(0,0,0,.1);}form.svelte-1rsw1q7 {display:flex;gap:2px;margin:0;padding:0;}button.svelte-1rsw1q7 {border-radius:var(--control-size);border:0;background:transparent;cursor:pointer;appearance:none;touch-action:manipulation;width:calc(var(--control-size) + var(--padding-s)*2);height:calc(var(--control-size) + var(--padding-s)*2);padding:var(--padding-s);color:inherit;display:flex;align-items:center;justify-content:center;transition:background .15s ease-in-out;}

    @media (pointer: fine) {button.svelte-1rsw1q7:hover {transition:none;background:var(--hover-bg-light);

            @supports(color: light-dark(white,black)) {background:light-dark(var(--hover-bg-light), var(--hover-bg-dark));
            }}
    }button.svelte-1rsw1q7:active {transition:none;background:var(--active-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--active-bg-light), var(--active-bg-dark));
        }}svg.svelte-1rsw1q7 {stroke:currentColor;stroke-width:1.5px;}.color.svelte-1rsw1q7 {pointer-events:none;content:'';display:block;width:15px;height:15px;background:var(--color);transition:background .15s ease-in-out, box-shadow .15s ease-in-out;border-radius:50%;}.color.active.svelte-1rsw1q7 {background:transparent;box-shadow:inset 0 0 0 5px var(--color);}

    /* animation */dialog.svelte-1rsw1q7 {transition:display .25s allow-discrete ease-in-out, 
            overlay .25s allow-discrete ease-in-out, 
            box-shadow .25s allow-discrete ease-in-out, 
            opacity .25s ease-in-out;opacity:0;}[open].svelte-1rsw1q7 {opacity:1;}dialog.svelte-1rsw1q7:not([open]) {transition-duration:.2s;pointer-events:none;}

    @starting-style {[open].svelte-1rsw1q7 {opacity:0;}
    }`};function Jr(e,t){st(t,!0),Ut(e,zi);let n=Et(t,"store",7),r,o=Me(void 0),s=Me(!1);function l(S){if(!x(o))return;const I=S.currentTarget.returnValue;switch(S.currentTarget.returnValue="",I){case"add":n().upsert(x(o)),dt();break;case"note":n().setDraft(x(o)),dt();break;case"remove":n().remove(x(o)),dt();break;default:if(Ae.has(I)){n().upsert({...x(o),color:I}),dt();return}break}}function d(){j(s,!0)}function v(){j(s,!1),setTimeout(f)}function f(){if(x(s)){r==null||r.close();return}requestAnimationFrame(()=>{const S=Gr(),I=S&&n().find(S);if(!S||!(I!=null&&I._id)&&!S.toString().trim()){r==null||r.close();return}j(o,ce(I)),r.inert=!0,r==null||r.show(),r.inert=!1;const W=256,q=10,R=S.getBoundingClientRect(),Y=Math.min(Math.max(R.x,q)+window.scrollX,window.innerWidth+window.scrollX-W-q),fe=Math.min(window.innerWidth-Math.max(R.x,q)-window.scrollX-R.width,window.innerWidth-window.scrollX-W-q),K=Math.max(R.y,40)+window.scrollY+R.height+4;window.innerHeight-Math.max(R.y,40)-window.scrollY+4;const de=Y<window.innerWidth/2+window.scrollX;r==null||r.style.setProperty("left",de?`${Y}px`:"unset"),r==null||r.style.setProperty("right",de?"unset":`${fe}px`),r==null||r.style.setProperty("top",`${K}px`),r==null||r.style.setProperty("bottom","unset")})}const h=Ii(f,200);var m=Vi();be("mousedown",Ie,d),be("touchstart",Ie,d,void 0,!0),be("mouseup",Ie,v),be("touchend",Ie,v),be("touchcancel",Ie,v),be("selectionchange",Ie,h);const g=Bt(wn);ye(()=>vt(m,"mobile",x(g)));var w=oe(m),y=oe(w);Pn(y,17,()=>Ae,([S,I])=>S,(S,I)=>{let W=()=>x(I)[0],q=()=>x(I)[1];var R=Bi(),Y=oe(R);J(R),ye(()=>{var fe;ue(R,"aria-label",W()),_i(R,W()),ue(Y,"style",`--color: ${q()??""}`),vt(Y,"active",W()==((fe=x(o))==null?void 0:fe.color))}),se(S,R)});var N=ie(y,2),D=oe(N),O=oe(D),M=oe(O),$=ie(M),k=ie($),T=ie(k);J(O),J(D),J(N);var U=ie(N,2);{var X=S=>{var I=ji();se(S,I)};Ft(U,S=>{var I;(I=x(o))!=null&&I._id&&S(X)})}return J(w),J(m),gn(m,S=>r=S,()=>r),ye(()=>{var S,I,W,q,R,Y;vt(m,"new",!((S=x(o))!=null&&S._id)),ue(M,"fill",(I=x(o))!=null&&I.note?"currentColor":"none"),ue(M,"stroke-width",(W=x(o))!=null&&W.note?"0":void 0),ue($,"fill",(q=x(o))!=null&&q.note?"none":"currentColor"),ue(k,"fill",(R=x(o))!=null&&R.note?"none":"currentColor"),ue(T,"fill",(Y=x(o))!=null&&Y.note?"none":"currentColor")}),be("close",m,l),se(e,m),lt({get store(){return n()},set store(S){n(S),Ue()}})}Ct(Jr,{store:{}},[],[],!0);function Wi(e){const t=e.currentTarget.getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||(e.preventDefault(),e.currentTarget.close())}var Yi=(e,t)=>j(t,!1),Ui=me('<input type="radio" name="color" class="svelte-ub8p4v">'),Xi=me('<div class="unlock svelte-ub8p4v"><a href="https://raindrop.io/pro/buy" target="_blank" class="svelte-ub8p4v">Upgrade to Pro</a> to unlock annotation</div>'),Gi=me('<blockquote role="presentation" class="svelte-ub8p4v"> </blockquote> <fieldset class="color svelte-ub8p4v"></fieldset> <textarea class="note svelte-ub8p4v" rows="4" maxlength="5000" placeholder="Notes (optional)"></textarea> <!>',1),Ki=me('<dialog role="presentation" class="svelte-ub8p4v"><header class="svelte-ub8p4v"> </header> <form method="dialog" class="svelte-ub8p4v"><!> <footer class="svelte-ub8p4v"><button formnovalidate="" class="svelte-ub8p4v">Cancel <sup class="svelte-ub8p4v">esc</sup></button> <button type="submit" value="OK" class="svelte-ub8p4v"> <sup class="svelte-ub8p4v">&crarr;</sup></button></footer></form></dialog>');const Ji={hash:"svelte-ub8p4v",code:`.svelte-ub8p4v {box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-ub8p4v {transform:scale(var(--mobile-zoom-level, 1));--bg-light: rgb(245, 245, 245);--bg-dark: rgb(35, 35, 35);--fg-light: black;--fg-dark: white;--control-bg-light: rgb(230, 230, 230);--control-bg-dark: rgb(55, 55, 55);font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;font-size:18px;line-height:1.4;border:none;border-radius:.5em;padding:0;overscroll-behavior:none;color:var(--fg-light);

        @supports(color: light-dark(white,black)) {color:light-dark(var(--fg-light), var(--fg-dark));
        }}dialog.mobile.svelte-ub8p4v {left:0;right:0;bottom:0;top:0;width:100%;margin:0;max-width:100%;max-height:100%;border-radius:0;bottom:auto;}dialog.svelte-ub8p4v, header.svelte-ub8p4v {background:var(--bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));
        }}[open].svelte-ub8p4v {box-shadow:0 0 0 .5px rgba(60, 60, 60, .9), 0 3px 10px rgba(0,0,0,.05), 0 7px 15px -3px rgba(0,0,0,.15);}.svelte-ub8p4v::backdrop {background-color:rgba(0,0,0,.3);}header.svelte-ub8p4v {margin:0;padding:1em;font-weight:bold;position:sticky;top:0;}

    @supports(animation-timeline: scroll()) {header.svelte-ub8p4v {
            animation: svelte-ub8p4v-header-scroll linear both;animation-timeline:scroll();animation-range:0 1px;}
    }

    @keyframes svelte-ub8p4v-header-scroll {
        to {
            box-shadow: 0 .5px 0 rgba(0,0,0,.2);
        }
    }form.svelte-ub8p4v {display:flex;flex-direction:column;gap:1em;padding:1em;padding-top:0;}.color.svelte-ub8p4v {all:unset;display:flex;gap:.75em;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v) {cursor:pointer;appearance:none;user-select:none;-webkit-user-select:none;margin:0;background:var(--color);transition:box-shadow .2s ease-in-out, background .2s ease-in-out;width:2em;height:2em;border-radius:50%;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):checked {background:transparent;box-shadow:inset 0 0 0 .5em var(--color);}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):active {transform:translateY(1px);}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v, button.svelte-ub8p4v {background:var(--control-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--control-bg-light), var(--control-bg-dark));
        }}blockquote.svelte-ub8p4v {white-space:pre-wrap;margin:0;min-width:100%;width:0;font-size:16px;}blockquote.compact.svelte-ub8p4v {white-space:nowrap;text-overflow:ellipsis;overflow:hidden;overflow:clip;}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v {border-radius:.5em;padding:.5em .6em;}.note.svelte-ub8p4v {min-width:min(21em, 70vw);min-height:4lh;appearance:none;border:0;font:inherit;color:inherit;display:block;scroll-margin-top:100vh;transition:background .15s ease-in-out, box-shadow .15s ease-in-out;}.note.svelte-ub8p4v:focus {background:transparent;}footer.svelte-ub8p4v {all:unset;display:flex;justify-content:flex-end;gap:.75em;}button.svelte-ub8p4v {appearance:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;border:0;font:inherit;color:inherit;cursor:pointer;padding:.25em .75em;border-radius:.5em;}button.svelte-ub8p4v:active {transform:translateY(1px);}button.svelte-ub8p4v sup:where(.svelte-ub8p4v) {margin-left:.25em;vertical-align:text-top;opacity:.5;}dialog.mobile.svelte-ub8p4v button:where(.svelte-ub8p4v) sup:where(.svelte-ub8p4v) {display:none;}button[value].svelte-ub8p4v {background:blue;background:AccentColor;color:white;}.unlock.svelte-ub8p4v {font-size:.75em;color:GrayText;}

    /* animation */dialog.svelte-ub8p4v, .svelte-ub8p4v::backdrop {transition:display .2s allow-discrete ease-in-out, 
            overlay .2s allow-discrete ease-in-out, 
            opacity .2s ease-in-out,
            box-shadow .2s ease-in-out;opacity:0;}[open].svelte-ub8p4v,
    [open].svelte-ub8p4v::backdrop {opacity:1;}

    @starting-style {[open].svelte-ub8p4v,
        [open].svelte-ub8p4v::backdrop {opacity:0;}
    }

    @supports not selector(::highlight(a)) {dialog.svelte-ub8p4v, dialog.svelte-ub8p4v::backdrop {
            animation: svelte-ub8p4v-simple-appear .2s forwards;}
        @keyframes svelte-ub8p4v-simple-appear {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    }`};function Zr(e,t){st(t,!0),Ut(e,Ji);const n=[];let r=Et(t,"store",7),o,s,l=Me(!0);Ot(()=>{r().draft?(j(l,!0),o==null||o.showModal()):o==null||o.close()});function d($){const k=$.currentTarget.returnValue;$.currentTarget.returnValue="",setTimeout(k?r().draftSubmit:r().draftCancel,200)}function v($){var k;wn()||($.stopImmediatePropagation(),$.stopPropagation(),$.key=="Enter"&&!$.shiftKey&&($.preventDefault(),s&&((k=$.currentTarget.closest("form"))==null||k.requestSubmit(s))))}var f=Ki();f.__mousedown=[Wi];const h=Bt(wn);ye(()=>vt(f,"mobile",x(h)));var m=oe(f),g=oe(m);J(m);var w=ie(m,2),y=oe(w);{var N=$=>{var k=Gi(),T=Sn(k);T.__click=[Yi,l];var U=oe(T,!0);ye(()=>{var q,R;return nn(U,((R=(q=r().draft)==null?void 0:q.text)==null?void 0:R.trim())||"")}),J(T);var X=ie(T,2);Pn(X,21,()=>Ae,ci,(q,R)=>{let Y=()=>x(R)[0],fe=()=>x(R)[1];var K=Ui();pi(K);var de;ye(()=>{de!==(de=Y())&&(K.value=(K.__value=Y())==null?"":Y()),ue(K,"style",`--color: ${fe()??""}`)}),bi(n,[],K,()=>(Y(),r().draft.color),He=>r().draft.color=He),se(q,K)}),J(X);var S=ie(X,2);ni(S),ti(S),S.__keydown=v;var I=ie(S,2);{var W=q=>{var R=Xi();se(q,R)};Ft(I,q=>{r().pro||q(W)})}ye(()=>{vt(T,"compact",x(l)),S.disabled=!r().pro}),wi(S,()=>r().draft.note,q=>r().draft.note=q),se($,k)};Ft(y,$=>{r().draft&&$(N)})}var D=ie(y,2),O=ie(oe(D),2),M=oe(O);return qo(),J(O),gn(O,$=>s=$,()=>s),J(D),J(w),J(f),gn(f,$=>o=$,()=>o),ye(()=>{var $,k;nn(g,`${(($=r().draft)!=null&&$._id?"Edit":"New")??""} highlight`),nn(M,`${((k=r().draft)!=null&&k._id?"Update":"Create")??""} `)}),be("close",f,d),se(e,f),lt({get store(){return r()},set store($){r($),Ue()}})}Vr(["mousedown","click","keydown"]);Ct(Zr,{store:{}},[],[],!0);const Zi=e=>{const t=e.target.getAttribute("data-highlight");t&&(e.preventDefault(),Xr(t))};var Qi=me('<div class="svelte-rwfy02"></div>'),es=me('<nav role="presentation" class="svelte-rwfy02"></nav>');const ts={hash:"svelte-rwfy02",code:"nav.svelte-rwfy02 {all:unset;}div.svelte-rwfy02 {position:fixed;right:0;width:24px;height:20px;display:flex;justify-content:flex-end;align-items:center;cursor:pointer;background:transparent;z-index:99999999999999;}div.svelte-rwfy02::before {content:'';display:block;height:3px;border-radius:3px;width:16px;background:var(--color);transition:width .15s ease-in-out;}div.svelte-rwfy02:hover::before {width:100%;}"};function Qr(e,t){st(t,!0),Ut(e,ts);let n=Et(t,"store",7);var r=ii(),o=Sn(r);{var s=l=>{var d=es();d.__click=[Zi],Pn(d,21,()=>n().highlights,v=>v._id,(v,f)=>{var h=Qi();const m=Bt(()=>`top: var(--highlight-${x(f)._id??""}-top); --color: ${(Ae.get(x(f).color)||x(f).color)??""}`);ye(()=>{ue(h,"data-highlight",x(f)._id),ue(h,"style",x(m))}),se(v,h)}),J(d),se(l,d)};Ft(o,l=>{n().nav&&l(s)})}return se(e,r),lt({get store(){return n()},set store(l){n(l),Ue()}})}Vr(["click"]);Ct(Qr,{store:{}},[],[],!0);var ns=me('<div class="svelte-1qyoyb3"><!></div>');const rs={hash:"svelte-1qyoyb3",code:"div.svelte-1qyoyb3 {display:contents;}"};function eo(e,t){st(t,!0),Ut(e,rs);let n=Et(t,"children",7),r=Me(1);Ot(()=>{var d;function l(){var v;j(r,1/(((v=window.visualViewport)==null?void 0:v.scale)||1))}return(d=window.visualViewport)==null||d.addEventListener("resize",l),()=>{var v;return(v=window.visualViewport)==null?void 0:v.removeEventListener("resize",l)}});var o=ns(),s=oe(o);return vi(s,()=>n()??cr),J(o),ye(()=>gi(o,"--mobile-zoom-level",x(r))),se(e,o),lt({get children(){return n()},set children(l){n(l),Ue()}})}Ct(eo,{children:{}},[],[],!0);var os=me("<!> <!> <!>",1);function is(e,t){st(t,!0);let n=Et(t,"store",7);Ot(()=>{ln(n().highlights)});let r;function o(){ln(n().highlights),clearTimeout(r),r=setTimeout(()=>ln(n().highlights),3e3)}return Ln(()=>{document.readyState&&o()}),Ot(()=>Ri),be("load",Mt,o),be("popstate",Mt,o),eo(e,{children:(s,l)=>{var d=os(),v=Sn(d);Jr(v,{get store(){return n()}});var f=ie(v,2);Zr(f,{get store(){return n()}});var h=ie(f,2);Qr(h,{get store(){return n()}}),se(s,d)},$$slots:{default:!0}}),lt({get store(){return n()},set store(s){n(s),Ue()}})}customElements.define("rdh-ui",Ct(is,{store:{}},[],[],!0));function ss(e){if(typeof chrome=="object"&&chrome.runtime&&chrome.runtime.onMessage||typeof browser=="object"&&browser.runtime&&browser.runtime.onMessage){const{runtime:t}=typeof browser=="object"?browser:chrome,n=(r,o)=>{o.id==t.id&&typeof r.type=="string"&&e(r)};return t.onMessage.removeListener(n),t.onMessage.addListener(n),r=>t.sendMessage(null,r)}if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.rdh)return window.rdhSend=e,t=>window.webkit.messageHandlers.rdh.postMessage(t);if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron){const{ipcRenderer:t}=require("electron"),n=(r,o)=>e(o);return t.removeListener("RDH",n),t.on("RDH",n),r=>t.sendToHost("RDH",r)}if("ReactNativeWebView"in window)return window.ReactNativeWebViewSendMessage=e,t=>window.ReactNativeWebView.postMessage(JSON.stringify(t));if(window.self!==window.top){const t=({data:n,source:r})=>{r!==window.parent||typeof n!="object"||typeof n.type!="string"||e(n)};return window.removeEventListener("message",t),window.addEventListener("message",t),n=>window.parent.postMessage(n,"*")}throw new Error("unsupported platform")}async function ls(e){let t=!1;const n=new Set,r=ss(o=>{if(!t){n.add(o);return}e(o)});await new Promise(o=>{function s(){window.removeEventListener("DOMContentLoaded",s),o()}document.body?o():(window.removeEventListener("DOMContentLoaded",s),window.addEventListener("DOMContentLoaded",s,{once:!0}))}),t=!0;for(const o of n)e(o),n.delete(o);return r}const ct=document.createElement("rdh-ui");(async()=>{const e=await ls(n=>{switch(n.type){case"RDH_APPLY":Array.isArray(n.payload)&&(t.highlights=n.payload);break;case"RDH_CONFIG":typeof n.payload.pro=="boolean"&&(t.pro=n.payload.pro),typeof n.payload.nav=="boolean"&&(t.nav=n.payload.nav),typeof n.payload.enabled=="boolean"&&(n.payload.enabled===!0?document.body.contains(ct)||document.body.appendChild(ct):document.body.contains(ct)&&document.body.removeChild(ct));break;case"RDH_SCROLL":typeof n.payload._id=="string"&&Xr(n.payload._id);break;case"RDH_ADD_SELECTION":const r=Gr();if(!r)return;const o=t.find(r);if(!o)return;t.upsert(o),dt();break;case"RDH_NOTE_SELECTION":console.log("not implemented yet");break}}),t=Fi(n=>e({type:"RDH_ADD",payload:n}),n=>e({type:"RDH_UPDATE",payload:n}),({_id:n})=>e({type:"RDH_REMOVE",payload:{_id:n}}));ct.store=t,e({type:"RDH_READY",payload:{url:location.href}})})();
