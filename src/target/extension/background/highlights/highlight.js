"use strict";var so=Object.defineProperty;var Yn=t=>{throw TypeError(t)};var lo=(t,e,n)=>e in t?so(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vt=(t,e,n)=>lo(t,typeof e!="symbol"?e+"":e,n),Un=(t,e,n)=>e.has(t)||Yn("Cannot "+n);var Z=(t,e,n)=>(Un(t,e,"read from private field"),n?n.call(t):e.get(t)),tn=(t,e,n)=>e.has(t)?Yn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),en=(t,e,n,r)=>(Un(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,l=window.DocumentFragment.prototype.append,f=window.Node.prototype.cloneNode,v=window.Node.prototype.appendChild,d=window.Node.prototype.insertBefore,p=window.Node.prototype.removeChild,w=window.Node.prototype.replaceChild,g=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),y=window.Element.prototype.attachShadow,m=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),k=window.Element.prototype.getAttribute,S=window.Element.prototype.setAttribute,O=window.Element.prototype.removeAttribute,q=window.Element.prototype.toggleAttribute,$=window.Element.prototype.getAttributeNS,x=window.Element.prototype.setAttributeNS,A=window.Element.prototype.removeAttributeNS,$t=window.Element.prototype.insertAdjacentElement,dt=window.Element.prototype.insertAdjacentHTML,D=window.Element.prototype.prepend,M=window.Element.prototype.append,Y=window.Element.prototype.before,z=window.Element.prototype.after,L=window.Element.prototype.replaceWith,V=window.Element.prototype.remove,U=window.HTMLElement,tt=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),X=window.HTMLElement.prototype.insertAdjacentElement,qt=window.HTMLElement.prototype.insertAdjacentHTML,jt=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(s){return jt.add(s)});function qn(s){var a=jt.has(s);return s=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(s),!a&&s}var Zr=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function j(s){var a=s.isConnected;if(a!==void 0)return a;if(Zr(s))return!0;for(;s&&!(s.__CE_isImportDocument||s instanceof Document);)s=s.parentNode||(window.ShadowRoot&&s instanceof ShadowRoot?s.host:void 0);return!(!s||!(s.__CE_isImportDocument||s instanceof Document))}function Ge(s){var a=s.children;if(a)return Array.prototype.slice.call(a);for(a=[],s=s.firstChild;s;s=s.nextSibling)s.nodeType===Node.ELEMENT_NODE&&a.push(s);return a}function Je(s,a){for(;a&&a!==s&&!a.nextSibling;)a=a.parentNode;return a&&a!==s?a.nextSibling:null}function Ke(s,a,c){for(var _=s;_;){if(_.nodeType===Node.ELEMENT_NODE){var u=_;a(u);var h=u.localName;if(h==="link"&&u.getAttribute("rel")==="import"){if(_=u.import,c===void 0&&(c=new Set),_ instanceof Node&&!c.has(_))for(c.add(_),_=_.firstChild;_;_=_.nextSibling)Ke(_,a,c);_=Je(s,u);continue}else if(h==="template"){_=Je(s,u);continue}if(u=u.__CE_shadowRoot)for(u=u.firstChild;u;u=u.nextSibling)Ke(u,a,c)}_=_.firstChild?_.firstChild:Je(s,_)}}function be(){var s=!(wt==null||!wt.noDocumentConstructionObserver),a=!(wt==null||!wt.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=a,this.I=!s}function ce(s,a,c,_){var u=window.ShadyDOM;if(s.shadyDomFastWalk&&u&&u.inUse){if(a.nodeType===Node.ELEMENT_NODE&&c(a),a.querySelectorAll)for(s=u.nativeMethods.querySelectorAll.call(a,"*"),a=0;a<s.length;a++)c(s[a])}else Ke(a,c,_)}function Qr(s,a){s.j=!0,s.m.push(a)}function to(s,a){s.j=!0,s.g.push(a)}function Ze(s,a){s.j&&ce(s,a,function(c){return Gt(s,c)})}function Gt(s,a){if(s.j&&!a.__CE_patched){a.__CE_patched=!0;for(var c=0;c<s.m.length;c++)s.m[c](a);for(c=0;c<s.g.length;c++)s.g[c](a)}}function mt(s,a){var c=[];for(ce(s,a,function(u){return c.push(u)}),a=0;a<c.length;a++){var _=c[a];_.__CE_state===1?s.connectedCallback(_):ye(s,_)}}function et(s,a){var c=[];for(ce(s,a,function(u){return c.push(u)}),a=0;a<c.length;a++){var _=c[a];_.__CE_state===1&&s.disconnectedCallback(_)}}function kt(s,a,c){c=c===void 0?{}:c;var _=c.J,u=c.upgrade||function(b){return ye(s,b)},h=[];for(ce(s,a,function(b){if(s.j&&Gt(s,b),b.localName==="link"&&b.getAttribute("rel")==="import"){var E=b.import;E instanceof Node&&(E.__CE_isImportDocument=!0,E.__CE_registry=document.__CE_registry),E&&E.readyState==="complete"?E.__CE_documentLoadHandled=!0:b.addEventListener("load",function(){var C=b.import;if(!C.__CE_documentLoadHandled){C.__CE_documentLoadHandled=!0;var N=new Set;_&&(_.forEach(function(I){return N.add(I)}),N.delete(C)),kt(s,C,{J:N,upgrade:u})}})}else h.push(b)},_),a=0;a<h.length;a++)u(h[a])}function ye(s,a){try{var c=a.ownerDocument,_=c.__CE_registry,u=_&&(c.defaultView||c.__CE_isImportDocument)?Ee(_,a.localName):void 0;if(u&&a.__CE_state===void 0){u.constructionStack.push(a);try{try{if(new u.constructorFunction!==a)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{u.constructionStack.pop()}}catch(C){throw a.__CE_state=2,C}if(a.__CE_state=1,a.__CE_definition=u,u.attributeChangedCallback&&a.hasAttributes()){var h=u.observedAttributes;for(u=0;u<h.length;u++){var b=h[u],E=a.getAttribute(b);E!==null&&s.attributeChangedCallback(a,b,null,E,null)}}j(a)&&s.connectedCallback(a)}}catch(C){Jt(C)}}be.prototype.connectedCallback=function(s){var a=s.__CE_definition;if(a.connectedCallback)try{a.connectedCallback.call(s)}catch(c){Jt(c)}},be.prototype.disconnectedCallback=function(s){var a=s.__CE_definition;if(a.disconnectedCallback)try{a.disconnectedCallback.call(s)}catch(c){Jt(c)}},be.prototype.attributeChangedCallback=function(s,a,c,_,u){var h=s.__CE_definition;if(h.attributeChangedCallback&&-1<h.observedAttributes.indexOf(a))try{h.attributeChangedCallback.call(s,a,c,_,u)}catch(b){Jt(b)}};function Pn(s,a,c,_){var u=a.__CE_registry;if(u&&(_===null||_==="http://www.w3.org/1999/xhtml")&&(u=Ee(u,c)))try{var h=new u.constructorFunction;if(h.__CE_state===void 0||h.__CE_definition===void 0)throw Error("Failed to construct '"+c+"': The returned value was not constructed with the HTMLElement constructor.");if(h.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+c+"': The constructed element's namespace must be the HTML namespace.");if(h.hasAttributes())throw Error("Failed to construct '"+c+"': The constructed element must not have any attributes.");if(h.firstChild!==null)throw Error("Failed to construct '"+c+"': The constructed element must not have any children.");if(h.parentNode!==null)throw Error("Failed to construct '"+c+"': The constructed element must not have a parent node.");if(h.ownerDocument!==a)throw Error("Failed to construct '"+c+"': The constructed element's owner document is incorrect.");if(h.localName!==c)throw Error("Failed to construct '"+c+"': The constructed element's local name is incorrect.");return h}catch(b){return Jt(b),a=_===null?t.call(a,c):e.call(a,_,c),Object.setPrototypeOf(a,HTMLUnknownElement.prototype),a.__CE_state=2,a.__CE_definition=void 0,Gt(s,a),a}return a=_===null?t.call(a,c):e.call(a,_,c),Gt(s,a),a}function Jt(s){var a="",c="",_=0,u=0;s instanceof Error?(a=s.message,c=s.sourceURL||s.fileName||"",_=s.line||s.lineNumber||0,u=s.column||s.columnNumber||0):a="Uncaught "+String(s);var h=void 0;ErrorEvent.prototype.initErrorEvent===void 0?h=new ErrorEvent("error",{cancelable:!0,message:a,filename:c,lineno:_,colno:u,error:s}):(h=document.createEvent("ErrorEvent"),h.initErrorEvent("error",!1,!0,a,c,_),h.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),h.error===void 0&&Object.defineProperty(h,"error",{configurable:!0,enumerable:!0,get:function(){return s}}),window.dispatchEvent(h),h.defaultPrevented||console.error(s)}function Fn(){var s=this;this.g=void 0,this.F=new Promise(function(a){s.l=a})}Fn.prototype.resolve=function(s){if(this.g)throw Error("Already resolved.");this.g=s,this.l(s)};function Hn(s){var a=document;this.l=void 0,this.h=s,this.g=a,kt(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function In(s){s.l&&s.l.disconnect()}Hn.prototype.G=function(s){var a=this.g.readyState;for(a!=="interactive"&&a!=="complete"||In(this),a=0;a<s.length;a++)for(var c=s[a].addedNodes,_=0;_<c.length;_++)kt(this.h,c[_])};function W(s){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(a){return a()},this.i=!1,this.v=[],this.h=s,this.D=s.I?new Hn(s):void 0}W.prototype.H=function(s,a){var c=this;if(!(a instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Bn(this,s),this.s.set(s,a),this.v.push(s),this.i||(this.i=!0,this.o(function(){return Vn(c)}))},W.prototype.define=function(s,a){var c=this;if(!(a instanceof Function))throw new TypeError("Custom element constructors must be functions.");Bn(this,s),jn(this,s,a),this.v.push(s),this.i||(this.i=!0,this.o(function(){return Vn(c)}))};function Bn(s,a){if(!qn(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(Ee(s,a))throw Error("A custom element with name '"+(a+"' has already been defined."));if(s.A)throw Error("A custom element is already being defined.")}function jn(s,a,c){s.A=!0;var _;try{var u=c.prototype;if(!(u instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var h=function(I){var Kt=u[I];if(Kt!==void 0&&!(Kt instanceof Function))throw Error("The '"+I+"' callback must be a function.");return Kt},b=h("connectedCallback"),E=h("disconnectedCallback"),C=h("adoptedCallback"),N=(_=h("attributeChangedCallback"))&&c.observedAttributes||[]}catch(I){throw I}finally{s.A=!1}return c={localName:a,constructorFunction:c,connectedCallback:b,disconnectedCallback:E,adoptedCallback:C,attributeChangedCallback:_,observedAttributes:N,constructionStack:[]},s.u.set(a,c),s.C.set(c.constructorFunction,c),c}W.prototype.upgrade=function(s){kt(this.h,s)};function Vn(s){if(s.i!==!1){s.i=!1;for(var a=[],c=s.v,_=new Map,u=0;u<c.length;u++)_.set(c[u],[]);for(kt(s.h,document,{upgrade:function(C){if(C.__CE_state===void 0){var N=C.localName,I=_.get(N);I?I.push(C):s.u.has(N)&&a.push(C)}}}),u=0;u<a.length;u++)ye(s.h,a[u]);for(u=0;u<c.length;u++){for(var h=c[u],b=_.get(h),E=0;E<b.length;E++)ye(s.h,b[E]);(h=s.B.get(h))&&h.resolve(void 0)}c.length=0}}W.prototype.get=function(s){if(s=Ee(this,s))return s.constructorFunction},W.prototype.whenDefined=function(s){if(!qn(s))return Promise.reject(new SyntaxError("'"+s+"' is not a valid custom element name."));var a=this.B.get(s);if(a)return a.F;a=new Fn,this.B.set(s,a);var c=this.u.has(s)||this.s.has(s);return s=this.v.indexOf(s)===-1,c&&s&&a.resolve(void 0),a.F},W.prototype.polyfillWrapFlushCallback=function(s){this.D&&In(this.D);var a=this.o;this.o=function(c){return s(function(){return a(c)})}};function Ee(s,a){var c=s.u.get(a);if(c)return c;if(c=s.s.get(a)){s.s.delete(a);try{return jn(s,a,c())}catch(_){Jt(_)}}}W.prototype.define=W.prototype.define,W.prototype.upgrade=W.prototype.upgrade,W.prototype.get=W.prototype.get,W.prototype.whenDefined=W.prototype.whenDefined,W.prototype.polyfillDefineLazy=W.prototype.H,W.prototype.polyfillWrapFlushCallback=W.prototype.polyfillWrapFlushCallback;function Qe(s,a,c){function _(u){return function(h){for(var b=[],E=0;E<arguments.length;++E)b[E]=arguments[E];E=[];for(var C=[],N=0;N<b.length;N++){var I=b[N];if(I instanceof Element&&j(I)&&C.push(I),I instanceof DocumentFragment)for(I=I.firstChild;I;I=I.nextSibling)E.push(I);else E.push(I)}for(u.apply(this,b),b=0;b<C.length;b++)et(s,C[b]);if(j(this))for(b=0;b<E.length;b++)C=E[b],C instanceof Element&&mt(s,C)}}c.prepend!==void 0&&(a.prepend=_(c.prepend)),c.append!==void 0&&(a.append=_(c.append))}function eo(s){Document.prototype.createElement=function(a){return Pn(s,this,a,null)},Document.prototype.importNode=function(a,c){return a=n.call(this,a,!!c),this.__CE_registry?kt(s,a):Ze(s,a),a},Document.prototype.createElementNS=function(a,c){return Pn(s,this,c,a)},Qe(s,Document.prototype,{prepend:r,append:o})}function no(s){function a(_){return function(u){for(var h=[],b=0;b<arguments.length;++b)h[b]=arguments[b];b=[];for(var E=[],C=0;C<h.length;C++){var N=h[C];if(N instanceof Element&&j(N)&&E.push(N),N instanceof DocumentFragment)for(N=N.firstChild;N;N=N.nextSibling)b.push(N);else b.push(N)}for(_.apply(this,h),h=0;h<E.length;h++)et(s,E[h]);if(j(this))for(h=0;h<b.length;h++)E=b[h],E instanceof Element&&mt(s,E)}}var c=Element.prototype;Y!==void 0&&(c.before=a(Y)),z!==void 0&&(c.after=a(z)),L!==void 0&&(c.replaceWith=function(_){for(var u=[],h=0;h<arguments.length;++h)u[h]=arguments[h];h=[];for(var b=[],E=0;E<u.length;E++){var C=u[E];if(C instanceof Element&&j(C)&&b.push(C),C instanceof DocumentFragment)for(C=C.firstChild;C;C=C.nextSibling)h.push(C);else h.push(C)}for(E=j(this),L.apply(this,u),u=0;u<b.length;u++)et(s,b[u]);if(E)for(et(s,this),u=0;u<h.length;u++)b=h[u],b instanceof Element&&mt(s,b)}),V!==void 0&&(c.remove=function(){var _=j(this);V.call(this),_&&et(s,this)})}function ro(s){function a(u,h){Object.defineProperty(u,"innerHTML",{enumerable:h.enumerable,configurable:!0,get:h.get,set:function(b){var E=this,C=void 0;if(j(this)&&(C=[],ce(s,this,function(Kt){Kt!==E&&C.push(Kt)})),h.set.call(this,b),C)for(var N=0;N<C.length;N++){var I=C[N];I.__CE_state===1&&s.disconnectedCallback(I)}return this.ownerDocument.__CE_registry?kt(s,this):Ze(s,this),b}})}function c(u,h){u.insertAdjacentElement=function(b,E){var C=j(E);return b=h.call(this,b,E),C&&et(s,E),j(b)&&mt(s,E),b}}function _(u,h){function b(E,C){for(var N=[];E!==C;E=E.nextSibling)N.push(E);for(C=0;C<N.length;C++)kt(s,N[C])}u.insertAdjacentHTML=function(E,C){if(E=E.toLowerCase(),E==="beforebegin"){var N=this.previousSibling;h.call(this,E,C),b(N||this.parentNode.firstChild,this)}else if(E==="afterbegin")N=this.firstChild,h.call(this,E,C),b(this.firstChild,N);else if(E==="beforeend")N=this.lastChild,h.call(this,E,C),b(N||this.firstChild,null);else if(E==="afterend")N=this.nextSibling,h.call(this,E,C),b(this.nextSibling,N);else throw new SyntaxError("The value provided ("+String(E)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}y&&(Element.prototype.attachShadow=function(u){if(u=y.call(this,u),s.j&&!u.__CE_patched){u.__CE_patched=!0;for(var h=0;h<s.m.length;h++)s.m[h](u)}return this.__CE_shadowRoot=u}),m&&m.get?a(Element.prototype,m):tt&&tt.get?a(HTMLElement.prototype,tt):to(s,function(u){a(u,{enumerable:!0,configurable:!0,get:function(){return f.call(this,!0).innerHTML},set:function(h){var b=this.localName==="template",E=b?this.content:this,C=e.call(document,this.namespaceURI,this.localName);for(C.innerHTML=h;0<E.childNodes.length;)p.call(E,E.childNodes[0]);for(h=b?C.content:C;0<h.childNodes.length;)v.call(E,h.childNodes[0])}})}),Element.prototype.setAttribute=function(u,h){if(this.__CE_state!==1)return S.call(this,u,h);var b=k.call(this,u);S.call(this,u,h),h=k.call(this,u),s.attributeChangedCallback(this,u,b,h,null)},Element.prototype.setAttributeNS=function(u,h,b){if(this.__CE_state!==1)return x.call(this,u,h,b);var E=$.call(this,u,h);x.call(this,u,h,b),b=$.call(this,u,h),s.attributeChangedCallback(this,h,E,b,u)},Element.prototype.removeAttribute=function(u){if(this.__CE_state!==1)return O.call(this,u);var h=k.call(this,u);O.call(this,u),h!==null&&s.attributeChangedCallback(this,u,h,null,null)},q&&(Element.prototype.toggleAttribute=function(u,h){if(this.__CE_state!==1)return q.call(this,u,h);var b=k.call(this,u),E=b!==null;return h=q.call(this,u,h),E!==h&&s.attributeChangedCallback(this,u,b,h?"":null,null),h}),Element.prototype.removeAttributeNS=function(u,h){if(this.__CE_state!==1)return A.call(this,u,h);var b=$.call(this,u,h);A.call(this,u,h);var E=$.call(this,u,h);b!==E&&s.attributeChangedCallback(this,h,b,E,u)},X?c(HTMLElement.prototype,X):$t&&c(Element.prototype,$t),qt?_(HTMLElement.prototype,qt):dt&&_(Element.prototype,dt),Qe(s,Element.prototype,{prepend:D,append:M}),no(s)}var zn={};function oo(s){function a(){var c=this.constructor,_=document.__CE_registry.C.get(c);if(!_)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var u=_.constructionStack;if(u.length===0)return u=t.call(document,_.localName),Object.setPrototypeOf(u,c.prototype),u.__CE_state=1,u.__CE_definition=_,Gt(s,u),u;var h=u.length-1,b=u[h];if(b===zn)throw Error("Failed to construct '"+_.localName+"': This element was already constructed.");return u[h]=zn,Object.setPrototypeOf(b,c.prototype),Gt(s,b),b}a.prototype=U.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:a}),window.HTMLElement=a}function io(s){function a(c,_){Object.defineProperty(c,"textContent",{enumerable:_.enumerable,configurable:!0,get:_.get,set:function(u){if(this.nodeType===Node.TEXT_NODE)_.set.call(this,u);else{var h=void 0;if(this.firstChild){var b=this.childNodes,E=b.length;if(0<E&&j(this)){h=Array(E);for(var C=0;C<E;C++)h[C]=b[C]}}if(_.set.call(this,u),h)for(u=0;u<h.length;u++)et(s,h[u])}}})}Node.prototype.insertBefore=function(c,_){if(c instanceof DocumentFragment){var u=Ge(c);if(c=d.call(this,c,_),j(this))for(_=0;_<u.length;_++)mt(s,u[_]);return c}return u=c instanceof Element&&j(c),_=d.call(this,c,_),u&&et(s,c),j(this)&&mt(s,c),_},Node.prototype.appendChild=function(c){if(c instanceof DocumentFragment){var _=Ge(c);if(c=v.call(this,c),j(this))for(var u=0;u<_.length;u++)mt(s,_[u]);return c}return _=c instanceof Element&&j(c),u=v.call(this,c),_&&et(s,c),j(this)&&mt(s,c),u},Node.prototype.cloneNode=function(c){return c=f.call(this,!!c),this.ownerDocument.__CE_registry?kt(s,c):Ze(s,c),c},Node.prototype.removeChild=function(c){var _=c instanceof Element&&j(c),u=p.call(this,c);return _&&et(s,c),u},Node.prototype.replaceChild=function(c,_){if(c instanceof DocumentFragment){var u=Ge(c);if(c=w.call(this,c,_),j(this))for(et(s,_),_=0;_<u.length;_++)mt(s,u[_]);return c}u=c instanceof Element&&j(c);var h=w.call(this,c,_),b=j(this);return b&&et(s,_),u&&et(s,c),b&&mt(s,c),h},g&&g.get?a(Node.prototype,g):Qr(s,function(c){a(c,{enumerable:!0,configurable:!0,get:function(){for(var _=[],u=this.firstChild;u;u=u.nextSibling)u.nodeType!==Node.COMMENT_NODE&&_.push(u.textContent);return _.join("")},set:function(_){for(;this.firstChild;)p.call(this,this.firstChild);_!=null&&_!==""&&v.call(this,document.createTextNode(_))}})})}var wt=window.customElements;function Wn(){var s=new be;oo(s),eo(s),Qe(s,DocumentFragment.prototype,{prepend:i,append:l}),io(s),ro(s),window.CustomElementRegistry=W,s=new W(s),document.__CE_registry=s,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:s})}wt&&!wt.forcePolyfill&&typeof wt.define=="function"&&typeof wt.get=="function"||Wn(),window.__CE_installPolyfill=Wn}).call(self);const _n=1,gn=2,ar=4,ao=8,uo=16,co=1,fo=2,mn="[",wn="[!",bn="]",ve={},Q=Symbol(),Xn=!1,_t=2,ur=4,He=8,yn=16,Lt=32,ie=64,ke=128,ft=256,Te=512,K=1024,Ot=2048,se=4096,Dt=8192,Ie=16384,vo=32768,Be=65536,ho=1<<19,cr=1<<20,te=Symbol("$state"),po=Symbol("legacy props"),_o=Symbol("");var En=Array.isArray,go=Array.prototype.indexOf,Cn=Array.from,xe=Object.keys,Ne=Object.defineProperty,ee=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyDescriptors,wo=Object.prototype,bo=Array.prototype,fr=Object.getPrototypeOf;const dr=()=>{};function vr(t){for(var e=0;e<t.length;e++)t[e]()}const yo=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback;let pe=[],_e=[];function hr(){var t=pe;pe=[],vr(t)}function pr(){var t=_e;_e=[],vr(t)}function Ut(t){pe.length===0&&queueMicrotask(hr),pe.push(t)}function Eo(t){_e.length===0&&yo(pr),_e.push(t)}function Gn(){pe.length>0&&hr(),_e.length>0&&pr()}function _r(t){return t===this.v}function Co(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function gr(t){return!Co(t,this.v)}function $o(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ko(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function To(t){throw new Error("https://svelte.dev/e/effect_orphan")}function xo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function No(){throw new Error("https://svelte.dev/e/hydration_failed")}function So(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ao(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Do(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Mo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Lo=!1;function ut(t,e){var n={f:0,v:t,reactions:null,equals:_r,rv:0,wv:0};return n}function Nt(t){return Oo(ut(t))}function $n(t,e=!1){const n=ut(t);return e||(n.equals=gr),n}function Oo(t){return F!==null&&!ht&&F.f&_t&&(yt===null?Io([t]):yt.push(t)),t}function B(t,e){return F!==null&&!ht&&qr()&&F.f&(_t|yn)&&(yt===null||!yt.includes(t))&&Mo(),an(t,e)}function an(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=kr(),mr(t,Ot),H!==null&&H.f&K&&!(H.f&(Lt|ie))&&(Tt===null?Bo([t]):Tt.push(t))),e}function mr(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var i=n[o],l=i.f;l&Ot||(Et(i,e),l&(K|ft)&&(l&_t?mr(i,se):ze(i)))}}function kn(t){var e=_t|Ot,n=F!==null&&F.f&_t?F:null;return H===null||n!==null&&n.f&ft?e|=ft:H.f|=cr,{ctx:lt,deps:null,effects:null,equals:_r,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??H}}function Ro(t){const e=kn(t);return e.equals=gr,e}function wr(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ct(e[n])}}function qo(t){for(var e=t.parent;e!==null;){if(!(e.f&_t))return e;e=e.parent}return null}function Po(t){var e,n=H;Bt(qo(t));try{wr(t),e=xr(t)}finally{Bt(n)}return e}function br(t){var e=Po(t),n=(Ft||t.f&ft)&&t.deps!==null?se:K;Et(t,n),t.equals(e)||(t.v=e,t.wv=kr())}function Tn(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let R=!1;function At(t){R=t}let P;function pt(t){if(t===null)throw Tn(),ve;return P=t}function je(){return pt(Rt(P))}function J(t){if(R){if(Rt(P)!==null)throw Tn(),ve;P=t}}function Fo(t=1){if(R){for(var e=t,n=P;e--;)n=Rt(n);P=n}}function un(){for(var t=0,e=P;;){if(e.nodeType===8){var n=e.data;if(n===bn){if(t===0)return e;t-=1}else(n===mn||n===wn)&&(t+=1)}var r=Rt(e);e.remove(),e=r}}function rt(t,e=null,n){if(typeof t!="object"||t===null||te in t)return t;const r=fr(t);if(r!==wo&&r!==bo)return t;var o=new Map,i=En(t),l=ut(0);i&&o.set("length",ut(t.length));var f;return new Proxy(t,{defineProperty(v,d,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&So();var w=o.get(d);return w===void 0?(w=ut(p.value),o.set(d,w)):B(w,rt(p.value,f)),!0},deleteProperty(v,d){var p=o.get(d);if(p===void 0)d in v&&o.set(d,ut(Q));else{if(i&&typeof d=="string"){var w=o.get("length"),g=Number(d);Number.isInteger(g)&&g<w.v&&B(w,g)}B(p,Q),Jn(l)}return!0},get(v,d,p){var m;if(d===te)return t;var w=o.get(d),g=d in v;if(w===void 0&&(!g||(m=ee(v,d))!=null&&m.writable)&&(w=ut(rt(g?v[d]:Q,f)),o.set(d,w)),w!==void 0){var y=T(w);return y===Q?void 0:y}return Reflect.get(v,d,p)},getOwnPropertyDescriptor(v,d){var p=Reflect.getOwnPropertyDescriptor(v,d);if(p&&"value"in p){var w=o.get(d);w&&(p.value=T(w))}else if(p===void 0){var g=o.get(d),y=g==null?void 0:g.v;if(g!==void 0&&y!==Q)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return p},has(v,d){var y;if(d===te)return!0;var p=o.get(d),w=p!==void 0&&p.v!==Q||Reflect.has(v,d);if(p!==void 0||H!==null&&(!w||(y=ee(v,d))!=null&&y.writable)){p===void 0&&(p=ut(w?rt(v[d],f):Q),o.set(d,p));var g=T(p);if(g===Q)return!1}return w},set(v,d,p,w){var $;var g=o.get(d),y=d in v;if(i&&d==="length")for(var m=p;m<g.v;m+=1){var k=o.get(m+"");k!==void 0?B(k,Q):m in v&&(k=ut(Q),o.set(m+"",k))}g===void 0?(!y||($=ee(v,d))!=null&&$.writable)&&(g=ut(void 0),B(g,rt(p,f)),o.set(d,g)):(y=g.v!==Q,B(g,rt(p,f)));var S=Reflect.getOwnPropertyDescriptor(v,d);if(S!=null&&S.set&&S.set.call(w,p),!y){if(i&&typeof d=="string"){var O=o.get("length"),q=Number(d);Number.isInteger(q)&&q>=O.v&&B(O,q+1)}Jn(l)}return!0},ownKeys(v){T(l);var d=Reflect.ownKeys(v).filter(g=>{var y=o.get(g);return y===void 0||y.v!==Q});for(var[p,w]of o)w.v!==Q&&!(p in v)&&d.push(p);return d},setPrototypeOf(){Ao()}})}function Jn(t,e=1){B(t,t.v+e)}function Kn(t){return t!==null&&typeof t=="object"&&te in t?t[te]:t}function Ho(t,e){return Object.is(Kn(t),Kn(e))}var Se,Vt,yr,Er,Cr;function cn(){if(Se===void 0){Se=window,Vt=document,yr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;Er=ee(e,"firstChild").get,Cr=ee(e,"nextSibling").get,t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function re(t=""){return document.createTextNode(t)}function Ht(t){return Er.call(t)}function Rt(t){return Cr.call(t)}function ot(t,e){if(!R)return Ht(t);var n=Ht(P);if(n===null)n=P.appendChild(re());else if(e&&n.nodeType!==3){var r=re();return n==null||n.before(r),pt(r),r}return pt(n),n}function xn(t,e){if(!R){var n=Ht(t);return n instanceof Comment&&n.data===""?Rt(n):n}return P}function it(t,e=1,n=!1){let r=R?P:t;for(var o;e--;)o=r,r=Rt(r);if(!R)return r;var i=r==null?void 0:r.nodeType;if(n&&i!==3){var l=re();return r===null?o==null||o.after(l):r.before(l),pt(l),l}return pt(r),r}function Nn(t){t.textContent=""}let Ce=!1,Ae=!1,De=null,zt=!1,Sn=!1;function Zn(t){Sn=t}let he=[];let F=null,ht=!1;function It(t){F=t}let H=null;function Bt(t){H=t}let yt=null;function Io(t){yt=t}let G=null,nt=0,Tt=null;function Bo(t){Tt=t}let $r=1,Me=0,Ft=!1;function kr(){return++$r}function ge(t){var w;var e=t.f;if(e&Ot)return!0;if(e&se){var n=t.deps,r=(e&ft)!==0;if(n!==null){var o,i,l=(e&Te)!==0,f=r&&H!==null&&!Ft,v=n.length;if(l||f){var d=t,p=d.parent;for(o=0;o<v;o++)i=n[o],(l||!((w=i==null?void 0:i.reactions)!=null&&w.includes(d)))&&(i.reactions??(i.reactions=[])).push(d);l&&(d.f^=Te),f&&p!==null&&!(p.f&ft)&&(d.f^=ft)}for(o=0;o<v;o++)if(i=n[o],ge(i)&&br(i),i.wv>t.wv)return!0}(!r||H!==null&&!Ft)&&Et(t,K)}return!1}function jo(t,e){for(var n=e;n!==null;){if(n.f&ke)try{n.fn(t);return}catch{n.f^=ke}n=n.parent}throw Ce=!1,t}function Vo(t){return(t.f&Ie)===0&&(t.parent===null||(t.parent.f&ke)===0)}function Ve(t,e,n,r){if(Ce){if(n===null&&(Ce=!1),Vo(e))throw t;return}n!==null&&(Ce=!0);{jo(t,e);return}}function Tr(t,e,n=!0){var r=t.reactions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];i.f&_t?Tr(i,e,!1):e===i&&(n?Et(i,Ot):i.f&K&&Et(i,se),ze(i))}}function xr(t){var y;var e=G,n=nt,r=Tt,o=F,i=Ft,l=yt,f=lt,v=ht,d=t.f;G=null,nt=0,Tt=null,Ft=(d&ft)!==0&&(ht||!zt||F===null),F=d&(Lt|ie)?null:t,yt=null,Qn(t.ctx),ht=!1,Me++;try{var p=(0,t.fn)(),w=t.deps;if(G!==null){var g;if(Le(t,nt),w!==null&&nt>0)for(w.length=nt+G.length,g=0;g<G.length;g++)w[nt+g]=G[g];else t.deps=w=G;if(!Ft)for(g=nt;g<w.length;g++)((y=w[g]).reactions??(y.reactions=[])).push(t)}else w!==null&&nt<w.length&&(Le(t,nt),w.length=nt);if(qr()&&Tt!==null&&!ht&&w!==null&&!(t.f&(_t|se|Ot)))for(g=0;g<Tt.length;g++)Tr(Tt[g],t);return o!==null&&Me++,p}finally{G=e,nt=n,Tt=r,F=o,Ft=i,yt=l,Qn(f),ht=v}}function zo(t,e){let n=e.reactions;if(n!==null){var r=go.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&e.f&_t&&(G===null||!G.includes(e))&&(Et(e,se),e.f&(ft|Te)||(e.f^=Te),wr(e),Le(e,0))}function Le(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)zo(t,n[r])}function An(t){var e=t.f;if(!(e&Ie)){Et(t,K);var n=H,r=lt,o=zt;H=t,zt=!0;try{e&yn?Zo(t):Mr(t),Dr(t);var i=xr(t);t.teardown=typeof i=="function"?i:null,t.wv=$r;var l=t.deps,f;Xn&&Lo&&t.f&Ot}catch(v){Ve(v,t,n,r||t.ctx)}finally{zt=o,H=n}}}function Wo(){try{xo()}catch(t){if(De!==null)Ve(t,De,null);else throw t}}function Nr(){var t=zt;try{var e=0;for(zt=!0;he.length>0;){e++>1e3&&Wo();var n=he,r=n.length;he=[];for(var o=0;o<r;o++){var i=n[o];i.f&K||(i.f^=K);var l=Uo(i);Yo(l)}}}finally{Ae=!1,zt=t,De=null}}function Yo(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(Ie|Dt)))try{ge(r)&&(An(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Lr(r):r.fn=null))}catch(o){Ve(o,r,null,r.ctx)}}}function ze(t){Ae||(Ae=!0,queueMicrotask(Nr));for(var e=De=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(ie|Lt)){if(!(n&K))return;e.f^=K}}he.push(e)}function Uo(t){for(var e=[],n=t.first;n!==null;){var r=n.f,o=(r&Lt)!==0,i=o&&(r&K)!==0;if(!i&&!(r&Dt)){if(r&ur)e.push(n);else if(o)n.f^=K;else{var l=F;try{F=n,ge(n)&&An(n)}catch(d){Ve(d,n,null,n.ctx)}finally{F=l}}var f=n.first;if(f!==null){n=f;continue}}var v=n.parent;for(n=n.next;n===null&&v!==null;)n=v.next,v=v.parent}return e}function le(t){var e;for(Gn();he.length>0;)Ae=!0,Nr(),Gn();return e}function T(t){var e=t.f,n=(e&_t)!==0;if(F!==null&&!ht){yt!==null&&yt.includes(t)&&Do();var r=F.deps;t.rv<Me&&(t.rv=Me,G===null&&r!==null&&r[nt]===t?nt++:G===null?G=[t]:(!Ft||!G.includes(t))&&G.push(t))}else if(n&&t.deps===null&&t.effects===null){var o=t,i=o.parent;i!==null&&!(i.f&ft)&&(o.f^=ft)}return n&&(o=t,ge(o)&&br(o)),t.v}function Dn(t){var e=ht;try{return ht=!0,t()}finally{ht=e}}const Xo=-7169;function Et(t,e){t.f=t.f&Xo|e}function Go(t){H===null&&F===null&&To(),F!==null&&F.f&ft&&H===null&&ko(),Sn&&$o()}function Jo(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Xt(t,e,n,r=!0){var o=(t&ie)!==0,i=H,l={ctx:lt,deps:null,nodes_start:null,nodes_end:null,f:t|Ot,first:null,fn:e,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{An(l),l.f|=vo}catch(d){throw Ct(l),d}else e!==null&&ze(l);var f=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(cr|ke))===0;if(!f&&!o&&r&&(i!==null&&Jo(l,i),F!==null&&F.f&_t)){var v=F;(v.effects??(v.effects=[])).push(l)}return l}function Sr(t){const e=Xt(He,null,!1);return Et(e,K),e.teardown=t,e}function Oe(t){Go();var e=H!==null&&(H.f&Lt)!==0&&lt!==null&&!lt.m;if(e){var n=lt;(n.e??(n.e=[])).push({fn:t,effect:H,reaction:F})}else{var r=Mn(t);return r}}function Ar(t){const e=Xt(ie,t,!0);return()=>{Ct(e)}}function Ko(t){const e=Xt(ie,t,!0);return(n={})=>new Promise(r=>{n.outro?Re(e,()=>{Ct(e),r(void 0)}):(Ct(e),r(void 0))})}function Mn(t){return Xt(ur,t,!1)}function We(t){return Xt(He,t,!0)}function Wt(t,e=[],n=kn){const r=e.map(n);return Ye(()=>t(...r.map(T)))}function Ye(t,e=0){return Xt(He|yn|e,t,!0)}function oe(t,e=!0){return Xt(He|Lt,t,!0,e)}function Dr(t){var e=t.teardown;if(e!==null){const n=Sn,r=F;Zn(!0),It(null);try{e.call(null)}finally{Zn(n),It(r)}}}function Mr(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;Ct(n,e),n=r}}function Zo(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Lt||Ct(e),e=n}}function Ct(t,e=!0){var n=!1;if((e||t.f&ho)&&t.nodes_start!==null){for(var r=t.nodes_start,o=t.nodes_end;r!==null;){var i=r===o?null:Rt(r);r.remove(),r=i}n=!0}Mr(t,e&&!n),Le(t,0),Et(t,Ie);var l=t.transitions;if(l!==null)for(const v of l)v.stop();Dr(t);var f=t.parent;f!==null&&f.first!==null&&Lr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Lr(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Re(t,e){var n=[];Ln(t,n,!0),Or(n,()=>{Ct(t),e&&e()})}function Or(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function Ln(t,e,n){if(!(t.f&Dt)){if(t.f^=Dt,t.transitions!==null)for(const l of t.transitions)(l.is_global||n)&&e.push(l);for(var r=t.first;r!==null;){var o=r.next,i=(r.f&Be)!==0||(r.f&Lt)!==0;Ln(r,e,i?n:!1),r=o}}}function qe(t){Rr(t,!0)}function Rr(t,e){if(t.f&Dt){t.f^=Dt,t.f&K||(t.f^=K),ge(t)&&(Et(t,Ot),ze(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&Be)!==0||(n.f&Lt)!==0;Rr(n,o?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let lt=null;function Qn(t){lt=t}function ae(t,e=!1,n){lt={p:lt,c:null,e:null,m:!1,s:t,x:null,l:null}}function ue(t){const e=lt;if(e!==null){t!==void 0&&(e.x=t);const l=e.e;if(l!==null){var n=H,r=F;e.e=null;try{for(var o=0;o<l.length;o++){var i=l[o];Bt(i.effect),It(i.reaction),Mn(i.fn)}}finally{Bt(n),It(r)}}lt=e.p,e.m=!0}return t||{}}function qr(){return!0}const Qo=["touchstart","touchmove"];function ti(t){return Qo.includes(t)}function ei(t,e){{const n=document.body;t.autofocus=!0,Ut(()=>{document.activeElement===n&&t.focus()})}}function ni(t){R&&Ht(t)!==null&&Nn(t)}let tr=!1;function Pr(){tr||(tr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Fr(t){var e=F,n=H;It(null),Bt(null);try{return t()}finally{It(e),Bt(n)}}function Hr(t,e,n,r=n){t.addEventListener(e,()=>Fr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Pr()}const Ir=new Set,fn=new Set;function ri(t,e,n,r={}){function o(i){if(r.capture||de.call(e,i),!i.cancelBubble)return Fr(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ut(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function bt(t,e,n,r,o){var i={capture:r,passive:o},l=ri(t,e,n,i);(e===document.body||e===window||e===document)&&Sr(()=>{e.removeEventListener(t,l,i)})}function Br(t){for(var e=0;e<t.length;e++)Ir.add(t[e]);for(var n of fn)n(t)}function de(t){var q;var e=this,n=e.ownerDocument,r=t.type,o=((q=t.composedPath)==null?void 0:q.call(t))||[],i=o[0]||t.target,l=0,f=t.__root;if(f){var v=o.indexOf(f);if(v!==-1&&(e===document||e===window)){t.__root=e;return}var d=o.indexOf(e);if(d===-1)return;v<=d&&(l=v)}if(i=o[l]||t.target,i!==e){Ne(t,"currentTarget",{configurable:!0,get(){return i||n}});var p=F,w=H;It(null),Bt(null);try{for(var g,y=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var k=i["__"+r];if(k!==void 0&&(!i.disabled||t.target===i))if(En(k)){var[S,...O]=k;S.apply(i,[t,...O])}else k.call(i,t)}catch($){g?y.push($):g=$}if(t.cancelBubble||m===e||m===null)break;i=m}if(g){for(let $ of y)queueMicrotask(()=>{throw $});throw g}}finally{t.__root=e,delete t.currentTarget,It(p),Bt(w)}}}function oi(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ne(t,e){var n=H;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function gt(t,e){var n=(e&co)!==0,r=(e&fo)!==0,o,i=!t.startsWith("<!>");return()=>{if(R)return ne(P,null),P;o===void 0&&(o=oi(i?t:"<!>"+t),n||(o=Ht(o)));var l=r||yr?document.importNode(o,!0):o.cloneNode(!0);if(n){var f=Ht(l),v=l.lastChild;ne(f,v)}else ne(l,l);return l}}function ii(){if(R)return ne(P,null),P;var t=document.createDocumentFragment(),e=document.createComment(""),n=re();return t.append(e,n),ne(e,n),t}function st(t,e){if(R){H.nodes_end=P,je();return}t!==null&&t.before(e)}function nn(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function jr(t,e){return Vr(t,e)}function si(t,e){cn(),e.intro=e.intro??!1;const n=e.target,r=R,o=P;try{for(var i=Ht(n);i&&(i.nodeType!==8||i.data!==mn);)i=Rt(i);if(!i)throw ve;At(!0),pt(i),je();const l=Vr(t,{...e,anchor:i});if(P===null||P.nodeType!==8||P.data!==bn)throw Tn(),ve;return At(!1),l}catch(l){if(l===ve)return e.recover===!1&&No(),cn(),Nn(n),At(!1),jr(t,e);throw l}finally{At(r),pt(o)}}const Zt=new Map;function Vr(t,{target:e,anchor:n,props:r={},events:o,context:i,intro:l=!0}){cn();var f=new Set,v=w=>{for(var g=0;g<w.length;g++){var y=w[g];if(!f.has(y)){f.add(y);var m=ti(y);e.addEventListener(y,de,{passive:m});var k=Zt.get(y);k===void 0?(document.addEventListener(y,de,{passive:m}),Zt.set(y,1)):Zt.set(y,k+1)}}};v(Cn(Ir)),fn.add(v);var d=void 0,p=Ko(()=>{var w=n??e.appendChild(re());return oe(()=>{if(i){ae({});var g=lt;g.c=i}o&&(r.$$events=o),R&&ne(w,null),d=t(w,r)||{},R&&(H.nodes_end=P),i&&ue()}),()=>{var m;for(var g of f){e.removeEventListener(g,de);var y=Zt.get(g);--y===0?(document.removeEventListener(g,de),Zt.delete(g)):Zt.set(g,y)}fn.delete(v),w!==n&&((m=w.parentNode)==null||m.removeChild(w))}});return dn.set(d,p),d}let dn=new WeakMap;function li(t,e){const n=dn.get(t);return n?(dn.delete(t),n(e)):Promise.resolve()}function Pe(t,e,[n,r]=[0,0]){R&&n===0&&je();var o=t,i=null,l=null,f=Q,v=n>0?Be:0,d=!1;const p=(g,y=!0)=>{d=!0,w(y,g)},w=(g,y)=>{if(f===(f=g))return;let m=!1;if(R&&r!==-1){if(n===0){const S=o.data;S===mn?r=0:S===wn?r=1/0:(r=parseInt(S.substring(1)),r!==r&&(r=f?1/0:-1))}const k=r>n;!!f===k&&(o=un(),pt(o),At(!1),m=!0,r=-1)}f?(i?qe(i):y&&(i=oe(()=>y(o))),l&&Re(l,()=>{l=null})):(l?qe(l):y&&(l=oe(()=>y(o,[n+1,r]))),i&&Re(i,()=>{i=null})),m&&At(!0)};Ye(()=>{d=!1,e(p),d||w(null,null)},v),R&&(o=P)}function ai(t,e){return e}function ui(t,e,n,r){for(var o=[],i=e.length,l=0;l<i;l++)Ln(e[l].e,o,!0);var f=i>0&&o.length===0&&n!==null;if(f){var v=n.parentNode;Nn(v),v.append(n),r.clear(),Pt(t,e[0].prev,e[i-1].next)}Or(o,()=>{for(var d=0;d<i;d++){var p=e[d];f||(r.delete(p.k),Pt(t,p.prev,p.next)),Ct(p.e,!f)}})}function On(t,e,n,r,o,i=null){var l=t,f={flags:e,items:new Map,first:null},v=(e&ar)!==0;if(v){var d=t;l=R?pt(Ht(d)):d.appendChild(re())}R&&je();var p=null,w=!1,g=Ro(()=>{var y=n();return En(y)?y:y==null?[]:Cn(y)});Ye(()=>{var y=T(g),m=y.length;if(w&&m===0)return;w=m===0;let k=!1;if(R){var S=l.data===wn;S!==(m===0)&&(l=un(),pt(l),At(!1),k=!0)}if(R){for(var O=null,q,$=0;$<m;$++){if(P.nodeType===8&&P.data===bn){l=P,k=!0,At(!1);break}var x=y[$],A=r(x,$);q=zr(P,f,O,null,x,A,$,o,e,n),f.items.set(A,q),O=q}m>0&&pt(un())}R||ci(y,f,l,o,e,r,n),i!==null&&(m===0?p?qe(p):p=oe(()=>i(l)):p!==null&&Re(p,()=>{p=null})),k&&At(!0),T(g)}),R&&(l=P)}function ci(t,e,n,r,o,i,l){var U,tt,X,qt;var f=(o&ao)!==0,v=(o&(_n|gn))!==0,d=t.length,p=e.items,w=e.first,g=w,y,m=null,k,S=[],O=[],q,$,x,A;if(f)for(A=0;A<d;A+=1)q=t[A],$=i(q,A),x=p.get($),x!==void 0&&((U=x.a)==null||U.measure(),(k??(k=new Set)).add(x));for(A=0;A<d;A+=1){if(q=t[A],$=i(q,A),x=p.get($),x===void 0){var $t=g?g.e.nodes_start:n;m=zr($t,e,m,m===null?e.first:m.next,q,$,A,r,o,l),p.set($,m),S=[],O=[],g=m.next;continue}if(v&&fi(x,q,A,o),x.e.f&Dt&&(qe(x.e),f&&((tt=x.a)==null||tt.unfix(),(k??(k=new Set)).delete(x))),x!==g){if(y!==void 0&&y.has(x)){if(S.length<O.length){var dt=O[0],D;m=dt.prev;var M=S[0],Y=S[S.length-1];for(D=0;D<S.length;D+=1)er(S[D],dt,n);for(D=0;D<O.length;D+=1)y.delete(O[D]);Pt(e,M.prev,Y.next),Pt(e,m,M),Pt(e,Y,dt),g=dt,m=Y,A-=1,S=[],O=[]}else y.delete(x),er(x,g,n),Pt(e,x.prev,x.next),Pt(e,x,m===null?e.first:m.next),Pt(e,m,x),m=x;continue}for(S=[],O=[];g!==null&&g.k!==$;)g.e.f&Dt||(y??(y=new Set)).add(g),O.push(g),g=g.next;if(g===null)continue;x=g}S.push(x),m=x,g=x.next}if(g!==null||y!==void 0){for(var z=y===void 0?[]:Cn(y);g!==null;)g.e.f&Dt||z.push(g),g=g.next;var L=z.length;if(L>0){var V=o&ar&&d===0?n:null;if(f){for(A=0;A<L;A+=1)(X=z[A].a)==null||X.measure();for(A=0;A<L;A+=1)(qt=z[A].a)==null||qt.fix()}ui(e,z,V,p)}}f&&Ut(()=>{var jt;if(k!==void 0)for(x of k)(jt=x.a)==null||jt.apply()}),H.first=e.first&&e.first.e,H.last=m&&m.e}function fi(t,e,n,r){r&_n&&an(t.v,e),r&gn?an(t.i,n):t.i=n}function zr(t,e,n,r,o,i,l,f,v,d){var p=(v&_n)!==0,w=(v&uo)===0,g=p?w?$n(o):ut(o):o,y=v&gn?ut(l):l,m={i:y,v:g,k:i,a:null,e:null,prev:n,next:r};try{return m.e=oe(()=>f(t,g,y,d),R),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?e.first=m:(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function er(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var l=Rt(i);o.before(i),i=l}}function Pt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function di(t,e,...n){var r=t,o=dr,i;Ye(()=>{o!==(o=e())&&(i&&(Ct(i),i=null),i=oe(()=>o(r,...n)))},Be),R&&(r=P)}function Ue(t,e){Ut(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const o=document.createElement("style");o.id=e.hash,o.textContent=e.code,r.appendChild(o)}})}const nr=[...` 	
\r\fÂ \v\uFEFF`];function vi(t,e,n){var r=t==null?"":""+t;if(n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,l=0;(l=r.indexOf(o,l))>=0;){var f=l+i;(l===0||nr.includes(r[l-1]))&&(f===r.length||nr.includes(r[f]))?r=(l===0?"":r.substring(0,l))+r.substring(f+1):l=f}}return r===""?null:r}function Fe(t,e,n,r,o,i){var l=t.__className;if(R||l!==n){var f=vi(n,r,i);(!R||f!==t.getAttribute("class"))&&(f==null?t.removeAttribute("class"):t.className=f),t.__className=n}else if(i)for(var v in i){var d=!!i[v];(o==null||d!==!!o[v])&&t.classList.toggle(v,d)}return i}function hi(t){if(R){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;ct(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var o=t.checked;ct(t,"checked",null),t.checked=o}}};t.__on_r=n,Eo(n),Pr()}}function pi(t,e){var n=t.__attributes??(t.__attributes={});n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function ct(t,e,n,r){var o=t.__attributes??(t.__attributes={});R&&(o[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||o[e]!==(o[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[_o]=n),n==null?t.removeAttribute(e):typeof n!="string"&&_i(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var rr=new Map;function _i(t){var e=rr.get(t.nodeName);if(e)return e;rr.set(t.nodeName,e=[]);for(var n,r=t,o=Element.prototype;o!==r;){n=mo(r);for(var i in n)n[i].set&&e.push(i);r=fr(r)}return e}function gi(t,e,n,r){var o=t.__styles??(t.__styles={});o[e]!==n&&(o[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function mi(t,e,n=e){Hr(t,"input",r=>{var o=r?t.defaultValue:t.value;if(o=on(t)?sn(o):o,n(o),o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd;t.value=o??"",l!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(l,t.value.length))}}),(R&&t.defaultValue!==t.value||Dn(e)==null&&t.value)&&n(on(t)?sn(t.value):t.value),We(()=>{var r=e();on(t)&&r===sn(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}const rn=new Set;function wi(t,e,n,r,o=r){var i=n.getAttribute("type")==="checkbox",l=t;let f=!1;if(e!==null)for(var v of e)l=l[v]??(l[v]=[]);l.push(n),Hr(n,"change",()=>{var d=n.__value;i&&(d=or(l,d,n.checked)),o(d)},()=>o(i?[]:null)),We(()=>{var d=r();if(R&&n.defaultChecked!==n.checked){f=!0;return}i?(d=d||[],n.checked=d.includes(n.__value)):n.checked=Ho(n.__value,d)}),Sr(()=>{var d=l.indexOf(n);d!==-1&&l.splice(d,1)}),rn.has(l)||(rn.add(l),Ut(()=>{l.sort((d,p)=>d.compareDocumentPosition(p)===4?-1:1),rn.delete(l)})),Ut(()=>{if(f){var d;if(i)d=or(l,d,n.checked);else{var p=l.find(w=>w.checked);d=p==null?void 0:p.__value}o(d)}})}function or(t,e,n){for(var r=new Set,o=0;o<t.length;o+=1)t[o].checked&&r.add(t[o].__value);return n||r.delete(e),Array.from(r)}function on(t){var e=t.type;return e==="number"||e==="range"}function sn(t){return t===""?null:+t}function ir(t,e){return t===e||(t==null?void 0:t[te])===e}function vn(t={},e,n,r){return Mn(()=>{var o,i;return We(()=>{o=i,i=[],Dn(()=>{t!==n(...i)&&(e(t,...i),o&&ir(n(...o),t)&&e(null,...o))})}),()=>{Ut(()=>{i&&ir(n(...i),t)&&e(null,...i)})}}),t}function me(t,e,n,r){var o;o=t[e];var i=r,l=!0,f=!1,v=()=>(f=!0,l&&(l=!1,i=r),i),d;d=()=>{var y=t[e];return y===void 0?v():(l=!0,f=!1,y)};var p=!1,w=$n(o),g=kn(()=>{var y=d(),m=T(w);return p?(p=!1,m):w.v=y});return function(y,m){if(arguments.length>0){const k=m?T(g):y;return g.equals(k)||(p=!0,B(w,k),f&&i!==void 0&&(i=k),Dn(()=>T(g))),y}return T(g)}}function bi(t){return new yi(t)}var xt,at;class yi{constructor(e){tn(this,xt);tn(this,at);var i;var n=new Map,r=(l,f)=>{var v=$n(f);return n.set(l,v),v};const o=new Proxy({...e.props||{},$$events:{}},{get(l,f){return T(n.get(f)??r(f,Reflect.get(l,f)))},has(l,f){return f===po?!0:(T(n.get(f)??r(f,Reflect.get(l,f))),Reflect.has(l,f))},set(l,f,v){return B(n.get(f)??r(f,v),v),Reflect.set(l,f,v)}});en(this,at,(e.hydrate?si:jr)(e.component,{target:e.target,anchor:e.anchor,props:o,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((i=e==null?void 0:e.props)!=null&&i.$$host)||e.sync===!1)&&le(),en(this,xt,o.$$events);for(const l of Object.keys(Z(this,at)))l==="$set"||l==="$destroy"||l==="$on"||Ne(this,l,{get(){return Z(this,at)[l]},set(f){Z(this,at)[l]=f},enumerable:!0});Z(this,at).$set=l=>{Object.assign(o,l)},Z(this,at).$destroy=()=>{li(Z(this,at))}}$set(e){Z(this,at).$set(e)}$on(e,n){Z(this,xt)[e]=Z(this,xt)[e]||[];const r=(...o)=>n.call(this,...o);return Z(this,xt)[e].push(r),()=>{Z(this,xt)[e]=Z(this,xt)[e].filter(o=>o!==r)}}$destroy(){Z(this,at).$destroy()}}xt=new WeakMap,at=new WeakMap;let Wr;typeof HTMLElement=="function"&&(Wr=class extends HTMLElement{constructor(e,n,r){super();vt(this,"$$ctor");vt(this,"$$s");vt(this,"$$c");vt(this,"$$cn",!1);vt(this,"$$d",{});vt(this,"$$r",!1);vt(this,"$$p_d",{});vt(this,"$$l",{});vt(this,"$$l_u",new Map);vt(this,"$$me");this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const o=this.$$c.$on(e,n);this.$$l_u.set(n,o)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(o){return i=>{const l=document.createElement("slot");o!=="default"&&(l.name=o),st(i,l)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=Ei(this);for(const o of this.$$s)o in r&&(o==="default"&&!this.$$d.children?(this.$$d.children=e(o),n.default=!0):n[o]=e(o));for(const o of this.attributes){const i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=$e(i,o.value,this.$$p_d,"toProp"))}for(const o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=bi({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Ar(()=>{We(()=>{var o;this.$$r=!0;for(const i of xe(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];const l=$e(i,this.$$d[i],this.$$p_d,"toAttribute");l==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,l)}this.$$r=!1})});for(const o in this.$$l)for(const i of this.$$l[o]){const l=this.$$c.$on(o,i);this.$$l_u.set(i,l)}this.$$l={}}}attributeChangedCallback(e,n,r){var o;this.$$r||(e=this.$$g_p(e),this.$$d[e]=$e(e,r,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return xe(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function $e(t,e,n,r){var i;const o=(i=n[t])==null?void 0:i.type;if(e=o==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(o){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(o){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Ei(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}function we(t,e,n,r,o,i){let l=class extends Wr{constructor(){super(t,n,o),this.$$p_d=e}static get observedAttributes(){return xe(e).map(f=>(e[f].attribute||f).toLowerCase())}};return xe(e).forEach(f=>{Ne(l.prototype,f,{get(){return this.$$c&&f in this.$$c?this.$$c[f]:this.$$d[f]},set(v){var w;v=$e(f,v,e),this.$$d[f]=v;var d=this.$$c;if(d){var p=(w=ee(d,f))==null?void 0:w.get;p?d[f]=v:d.$set({[f]:v})}}})}),r.forEach(f=>{Ne(l.prototype,f,{get(){var v;return(v=this.$$c)==null?void 0:v[f]}})}),t.element=l,l}const Mt=new Map([["yellow","#F8B920"],["red","#FF4646"],["blue","#0064FF"],["green","#00C564"]]),Ci=["SCRIPT","STYLE","NOSCRIPT","TEXTAREA","OPTION"];function Rn(t){const e=document.documentElement.lang||void 0,n=t.map(f=>f.trim().toLocaleLowerCase(e)),r=n.map(()=>({start:null,end:null,shift:0})),o=n.map(()=>[]),i=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,f=>{var v,d;return Ci.includes((v=f.parentNode)==null?void 0:v.tagName)||((d=f.parentNode)==null?void 0:d.contentEditable)=="true"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let l;for(;l=i.nextNode();)if(l!=null&&l.nodeValue)for(let f=0;f<l.nodeValue.length;f++){const v=l.nodeValue[f].toLocaleLowerCase(e).trim();v&&n.forEach((d,p)=>{var g,y;for(;d[r[p].shift]&&!d[r[p].shift].trim();)r[p].shift++;let w=d[r[p].shift]===v;if(!w&&r[p].shift&&(r[p].shift=0,w=d[r[p].shift]===v),w&&(r[p].shift||(r[p].start=[l,f]),r[p].end=[l,f],r[p].shift++),r[p].shift>=d.length){const m=document.createRange();m.setStart(r[p].start[0],r[p].start[1]),m.setEnd(r[p].end[0],r[p].end[1]+1),!m.collapsed&&(!((g=m.commonAncestorContainer.parentElement)!=null&&g.checkVisibility)||(y=m.commonAncestorContainer.parentElement)!=null&&y.checkVisibility())?o[p].push(m):m.detach(),w=!1}w||(r[p].shift=0,r[p].start=null,r[p].end=null)})}return o}const Yt=`rh-${new Date().getTime()}-`,Xe="highlights"in CSS;function $i(t){if(!t.length&&!CSS.highlights.size)return;const e=[];if(CSS.highlights.clear(),t.length){const r=Rn(t.map(({text:o})=>o||""));for(const o in t){const i=r[o];if(!i.length)continue;const{_id:l,color:f,note:v,position:d=0}=t[o],p=`${Yt}${l}`,w=(i==null?void 0:i[d])||i[0];CSS.highlights.set(p,new Highlight(w));const g=w.getBoundingClientRect();e.push(`
                ::highlight(${p}) {
                    all: unset;
                    background-color: color-mix(in srgb, ${Mt.get(f)||f||"yellow"}, white 60%) !important;
                    color: color-mix(in srgb, ${Mt.get(f)||f||"yellow"}, black 80%) !important;
                    ${v?"text-decoration: underline wavy; -webkit-text-decoration: underline wavy;":""}
                    text-decoration-thickness: from-font;
                }

                /* fuck you dark reader */
                html[data-darkreader-scheme="dark"] ::highlight(${p}) {
                    color: CanvasText !important;
                }

                /* pdf render */
                .pdf ::highlight(${p}) {
                    background-color: color-mix(in srgb, ${Mt.get(f)||f||"yellow"}, transparent 60%) !important;
                    color: transparent !important;
                }

                :root {
                    --highlight-${l}-top: ${(100/document.documentElement.scrollHeight*(window.scrollY+g.top-10)).toFixed(2)}%;
                }
            `);for(const y of i)y.detach()}}const n=(()=>{let r=document.getElementById(Yt);return r||(r=document.createElement("style"),r.id=Yt,document.head.appendChild(r)),r})();n.innerHTML=e.join(`
`)}function ki(){var t;(t=document.getElementById(Yt))==null||t.remove()}function Ti(t){var e;for(const[n,r]of CSS.highlights){const o=n.replace(Yt,"");if(t==o)for(const i of r){(e=i.startContainer.parentElement)==null||e.scrollIntoView({behavior:"smooth",block:"start"});break}}}function xi(t){let e;for(const[n,r]of CSS.highlights)for(const o of r){const i=t.compareBoundaryPoints(Range.START_TO_START,o),l=t.compareBoundaryPoints(Range.END_TO_END,o);(i==0&&l==0||t!=null&&t.collapsed&&i>=0&&l<=0)&&(e=[n.replace(Yt,""),o])}if(e)return e[0].replace(Yt,"")}const St=`rh-${new Date().getTime()}`;function Ni(t){const e=document.body.querySelectorAll(`.${St}`);if(!t.length&&!e.length)return;e.forEach(i=>i.outerHTML=i.innerText);const n=[],r=Rn(t.map(({text:i})=>i||""));for(const i in t){const{_id:l,color:f}=t[i];for(const v of r[i]){const d=document.createElement("mark");d.className=St,d.setAttribute("data-id",String(l)),d.append(v.extractContents()),v.insertNode(d),v.detach()}n.push(`
            .${St}[data-id="${l}"] {
                all: unset;
                display: inline-block !important;
                background-color: white !important;
                background-image: linear-gradient(to bottom, ${sr(Mt.get(f)||f,.4)} 0, ${sr(Mt.get(f)||f,.4)} 100%) !important;
                color: black !important;
            }
        `)}const o=(()=>{let i=document.getElementById(St);return i||(i=document.createElement("style"),i.id=St,document.head.appendChild(i)),i})();o.innerHTML=n.join(`
`)}function Si(){var t;document.body.querySelectorAll(`.${St}`).forEach(e=>e.outerHTML=e.innerText),(t=document.getElementById(St))==null||t.remove()}function Ai(t){const e=document.body.querySelector(`.${St}[data-id="${t}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function Di(t){const e=t.commonAncestorContainer.nodeType==Node.ELEMENT_NODE?t.commonAncestorContainer:t.commonAncestorContainer.parentElement;if((e==null?void 0:e.className)==St){if(!t.collapsed){const n=new Range;n.selectNodeContents(t.commonAncestorContainer);const r=t.compareBoundaryPoints(Range.START_TO_START,n),o=t.compareBoundaryPoints(Range.END_TO_END,n);if(n.detach(),r!=0||o!=0)return}return e.getAttribute("data-id")||void 0}}function sr(t,e){if(!t)return t;const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n}, ${r}, ${o}, ${e})`}function Mi(t){return Xe?$i(t):Ni(t)}function ln(t){return Mi(t)}function Li(){return Xe?ki():Si()}function Yr(t){return Xe?Ti(t):Ai(t)}function hn(){var n,r,o;const t=document.getSelection();if(!(t!=null&&t.rangeCount))return;const e=t.getRangeAt(0);if(!((o=((n=e==null?void 0:e.commonAncestorContainer)==null?void 0:n.nodeType)==1?e==null?void 0:e.commonAncestorContainer:(r=e==null?void 0:e.commonAncestorContainer)==null?void 0:r.parentElement)!=null&&o.closest('[contenteditable=""], [contenteditable=true]')))return e}function Qt(){const t=document.getSelection();t!=null&&t.rangeCount&&t.removeAllRanges()}function Oi(t){return Xe?xi(t):Di(t)}function Ur(t){if(!t)return"";var e=document.createElement("div");e.appendChild(t.cloneContents().cloneNode(!0)),e.querySelectorAll("tspan").forEach(r=>r.outerHTML=`<span>${r.innerHTML}</span>`),e.querySelectorAll("text").forEach(r=>r.outerHTML=`<div>${r.innerHTML}</div>`),document.body.appendChild(e);const n=e.innerText;return document.body.removeChild(e),e=void 0,n}function Ri(t){if(!t)return;const e=Ur(t);if(!e)return;const[n]=Rn([e]),r=n.findIndex(o=>{const i=o.compareBoundaryPoints(Range.START_TO_START,t),l=o.compareBoundaryPoints(Range.END_TO_END,t);return i==0&&l==0||(t==null?void 0:t.collapsed)&&i>=0&&l<=0});return r==-1?void 0:r}function qi(t,e,n){let r=Nt(rt([])),o=Nt(!1),i=Nt(!1),l=Nt(!1),f=Nt(void 0);function v(m){const k=Oi(m);if(k)return T(r).find(O=>O._id==k);const S=Ur(m).trim();if(S)return{text:S,position:Ri(m)}}function d(m){const k={...typeof m._id=="string"?{_id:m._id}:{},...typeof m.text=="string"?{text:m.text}:{},...typeof m.note=="string"?{note:m.note}:{},...typeof m.position=="number"?{position:m.position}:{},color:m.color||"yellow"};if(!k.text)return;const S=T(r).findIndex(O=>{var q,$;return O._id==k._id||((q=O.text)==null?void 0:q.toLocaleLowerCase().trim())===(($=k.text)==null?void 0:$.toLocaleLowerCase().trim())});S!=-1?(k._id=T(r)[S]._id,T(r)[S]=k,e(k)):(T(r).push(k),t(k))}function p({_id:m}){B(r,rt(T(r).filter(k=>k._id!=m))),n({_id:m})}function w(m){B(f,rt(JSON.parse(JSON.stringify(m))))}function g(){T(f)&&(d(T(f)),B(f,void 0))}function y(){B(f,void 0)}return{get highlights(){return T(r)},set highlights(m){B(r,rt(m))},get pro(){return T(i)},set pro(m){B(i,rt(m))},get nav(){return T(l)},set nav(m){B(l,rt(m))},get hide_new_toolbar(){return T(o)},set hide_new_toolbar(m){B(o,rt(m))},get draft(){return T(f)},find:v,upsert:d,remove:p,setDraft:w,draftSubmit:g,draftCancel:y}}const Pi="5";var lr;typeof window<"u"&&((lr=window.__svelte??(window.__svelte={})).v??(lr.v=new Set)).add(Pi);function Fi(t,e){let n=null,r=!0;return function(...i){n||(r?(t(...i),r=!1):(clearTimeout(n),n=setTimeout(()=>{t(...i),clearTimeout(n),n=null},e)))}}function pn(){var t;return(t=navigator==null?void 0:navigator.userAgentData)!=null&&t.mobile?!0:/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)}var Hi=gt('<button type="submit" class="svelte-1rsw1q7"><span></span></button>'),Ii=gt('<button type="submit" value="remove" title="Delete highlight" aria-label="Delete highlight" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><line x1="2.75" y1="4.25" x2="15.25" y2="4.25" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></line><path d="M6.75,4.25v-1.5c0-.552,.448-1,1-1h2.5c.552,0,1,.448,1,1v1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path><path d="M13.5,6.75l-.4,7.605c-.056,1.062-.934,1.895-1.997,1.895H6.898c-1.064,0-1.941-.833-1.997-1.895l-.4-7.605" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path></g></svg></button>'),Bi=gt('<dialog><form method="dialog" class="svelte-1rsw1q7"><!> <button type="submit" value="note" title="Add note" aria-label="Add note" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><path stroke-linecap="round" stroke-linejoin="round" d="M9,1.75C4.996,1.75,1.75,4.996,1.75,9c0,1.319,.358,2.552,.973,3.617,.43,.806-.053,2.712-.973,3.633,1.25,.068,2.897-.497,3.633-.973,.489,.282,1.264,.656,2.279,.848,.433,.082,.881,.125,1.338,.125,4.004,0,7.25-3.246,7.25-7.25S13.004,1.75,9,1.75Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M9,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M5.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M12.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path></g></svg></button> <!></form></dialog>');const ji={hash:"svelte-1rsw1q7",code:`.svelte-1rsw1q7 {user-select:none;-webkit-user-select:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-1rsw1q7 {transform-origin:0 0;transform:scale(var(--mobile-zoom-level, 1));--control-size: 16px;--padding-s: 6px;--padding-m: 8px;--bg-light: rgb(255, 255, 255);--bg-dark: rgb(60, 60, 60);--control-fg-light: rgb(65, 65, 65);--control-fg-dark: rgb(230, 230, 230);--hover-bg-light: rgba(0,0,0,.07);--hover-bg-dark: rgba(255,255,255,.1);--active-bg-light: rgba(0,0,0,.13);--active-bg-dark: rgba(255,255,255,.2);}

    /* Safari iOS fix position bug */
    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {transform-origin:top right;}
    }

    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {--bg-light: rgba(255, 255, 255, .8);--bg-dark: rgba(60, 60, 60, .8);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);}
    }dialog.mobile.svelte-1rsw1q7 {--control-size: 26px;}dialog.svelte-1rsw1q7 {position:absolute;left:unset;top:unset;right:unset;bottom:unset;border:none;padding:2px;border-radius:var(--control-size);overflow:clip;z-index:999999999999999;background:var(--bg-light);color:var(--control-fg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));color:light-dark(var(--control-fg-light), var(--control-fg-dark));
        }}

    /* dialog.mobile.new {
        position: fixed;
        top: auto !important;
        left: auto !important;
        right: 16px !important;
        bottom: 16px !important;
        margin-right: env(safe-area-inset-right);
        margin-bottom: env(safe-area-inset-bottom);
    } */[open].svelte-1rsw1q7 {box-shadow:0 0 0 .5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.05), 0 15px 40px rgba(0,0,0,.1);}form.svelte-1rsw1q7 {display:flex;gap:2px;margin:0;padding:0;}button.svelte-1rsw1q7 {border-radius:var(--control-size);border:0;background:transparent;cursor:pointer;appearance:none;touch-action:manipulation;width:calc(var(--control-size) + var(--padding-s)*2);height:calc(var(--control-size) + var(--padding-s)*2);padding:var(--padding-s);color:inherit;display:flex;align-items:center;justify-content:center;transition:background .15s ease-in-out;}

    @media (pointer: fine) {button.svelte-1rsw1q7:hover {transition:none;background:var(--hover-bg-light);

            @supports(color: light-dark(white,black)) {background:light-dark(var(--hover-bg-light), var(--hover-bg-dark));
            }}
    }button.svelte-1rsw1q7:active {transition:none;background:var(--active-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--active-bg-light), var(--active-bg-dark));
        }}svg.svelte-1rsw1q7 {stroke:currentColor;stroke-width:1.5px;}.color.svelte-1rsw1q7 {pointer-events:none;content:'';display:block;width:15px;height:15px;background:var(--color);transition:background .15s ease-in-out, box-shadow .15s ease-in-out;border-radius:50%;}.color.active.svelte-1rsw1q7 {background:transparent;box-shadow:inset 0 0 0 5px var(--color);}

    /* animation */dialog.svelte-1rsw1q7 {transition:display .25s allow-discrete ease-in-out, 
            overlay .25s allow-discrete ease-in-out, 
            box-shadow .25s allow-discrete ease-in-out, 
            opacity .25s ease-in-out;opacity:0;}[open].svelte-1rsw1q7 {opacity:1;}dialog.svelte-1rsw1q7:not([open]) {transition-duration:.2s;pointer-events:none;}

    @starting-style {[open].svelte-1rsw1q7 {opacity:0;}
    }`};function Xr(t,e){ae(e,!0),Ue(t,ji);let n=me(e,"store"),r,o=Nt(void 0),i=Nt(!1);function l(D){if(!T(o))return;const M=D.currentTarget.returnValue;switch(D.currentTarget.returnValue="",M){case"add":n().upsert(T(o)),Qt();break;case"note":n().setDraft(T(o)),Qt();break;case"remove":n().remove(T(o)),Qt();break;default:if(Mt.has(M)){n().upsert({...T(o),color:M}),Qt();return}break}}function f(){B(i,!0)}function v(){B(i,!1),setTimeout(d)}function d(){if(T(i)){r==null||r.close();return}requestAnimationFrame(()=>{const D=hn(),M=D&&n().find(D);if(!D||!(M!=null&&M._id)&&!D.toString().trim()||!(M!=null&&M._id)&&n().hide_new_toolbar){r==null||r.close();return}B(o,rt(M)),r.inert=!0,r==null||r.show(),r.inert=!1;const Y=256,z=10,L=D.getBoundingClientRect(),V=Math.min(Math.max(L.x,z)+window.scrollX,window.innerWidth+window.scrollX-Y-z),U=Math.min(window.innerWidth-Math.max(L.x,z)-window.scrollX-L.width,window.innerWidth-window.scrollX-Y-z),tt=Math.max(L.y,40)+window.scrollY+L.height+4;window.innerHeight-Math.max(L.y,40)-window.scrollY+4;const X=V<window.innerWidth/2+window.scrollX;r==null||r.style.setProperty("left",X?`${V}px`:"unset"),r==null||r.style.setProperty("right",X?"unset":`${U}px`),r==null||r.style.setProperty("top",`${tt}px`),r==null||r.style.setProperty("bottom","unset")})}const p=Fi(d,200);var w=Bi();bt("mousedown",Vt,f),bt("touchstart",Vt,f,void 0,!0),bt("mouseup",Vt,v),bt("touchend",Vt,v),bt("touchcancel",Vt,v),bt("selectionchange",Vt,p);let g;var y=ot(w),m=ot(y);On(m,17,()=>Mt,([D,M])=>D,(D,M)=>{let Y=()=>T(M)[0],z=()=>T(M)[1];var L=Hi(),V=ot(L);let U;J(L),Wt(()=>{var tt;ct(L,"aria-label",Y()),pi(L,Y()),U=Fe(V,1,"color svelte-1rsw1q7",null,U,{active:Y()==((tt=T(o))==null?void 0:tt.color)}),ct(V,"style",`--color: ${z()??""}`)}),st(D,L)});var k=it(m,2),S=ot(k),O=ot(S),q=ot(O),$=it(q),x=it($),A=it(x);J(O),J(S),J(k);var $t=it(k,2);{var dt=D=>{var M=Ii();st(D,M)};Pe($t,D=>{var M;(M=T(o))!=null&&M._id&&D(dt)})}return J(y),J(w),vn(w,D=>r=D,()=>r),Wt(D=>{var M,Y,z,L,V,U;g=Fe(w,1,"svelte-1rsw1q7",null,g,{new:!((M=T(o))!=null&&M._id),mobile:D}),ct(q,"fill",(Y=T(o))!=null&&Y.note?"currentColor":"none"),ct(q,"stroke-width",(z=T(o))!=null&&z.note?"0":void 0),ct($,"fill",(L=T(o))!=null&&L.note?"none":"currentColor"),ct(x,"fill",(V=T(o))!=null&&V.note?"none":"currentColor"),ct(A,"fill",(U=T(o))!=null&&U.note?"none":"currentColor")},[pn]),bt("close",w,l),st(t,w),ue({get store(){return n()},set store(D){n(D),le()}})}we(Xr,{store:{}},[],[],!0);function Vi(t){const e=t.currentTarget.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(t.preventDefault(),t.currentTarget.close())}var zi=(t,e)=>B(e,!1),Wi=gt('<input type="radio" name="color" class="svelte-ub8p4v">'),Yi=gt('<div class="unlock svelte-ub8p4v"><a href="https://raindrop.io/pro/buy" target="_blank" class="svelte-ub8p4v">Upgrade to Pro</a> to unlock annotation</div>'),Ui=gt('<blockquote role="presentation"> </blockquote> <fieldset class="color svelte-ub8p4v"></fieldset> <textarea class="note svelte-ub8p4v" rows="4" maxlength="5000" placeholder="Notes (optional)"></textarea> <!>',1),Xi=gt('<dialog><header class="svelte-ub8p4v"> </header> <form method="dialog" class="svelte-ub8p4v"><!> <footer class="svelte-ub8p4v"><button formnovalidate="" class="svelte-ub8p4v">Cancel <sup class="svelte-ub8p4v">esc</sup></button> <button type="submit" value="OK" class="svelte-ub8p4v"> <sup class="svelte-ub8p4v">&crarr;</sup></button></footer></form></dialog>');const Gi={hash:"svelte-ub8p4v",code:`.svelte-ub8p4v {box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-ub8p4v {transform:scale(var(--mobile-zoom-level, 1));--bg-light: rgb(245, 245, 245);--bg-dark: rgb(35, 35, 35);--fg-light: black;--fg-dark: white;--control-bg-light: rgb(230, 230, 230);--control-bg-dark: rgb(55, 55, 55);font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;font-size:18px;line-height:1.4;border:none;border-radius:.5em;padding:0;overscroll-behavior:none;color:var(--fg-light);

        @supports(color: light-dark(white,black)) {color:light-dark(var(--fg-light), var(--fg-dark));
        }}dialog.mobile.svelte-ub8p4v {left:0;right:0;bottom:0;top:0;width:100%;margin:0;max-width:100%;max-height:100%;border-radius:0;bottom:auto;}dialog.svelte-ub8p4v, header.svelte-ub8p4v {background:var(--bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));
        }}[open].svelte-ub8p4v {box-shadow:0 0 0 .5px rgba(60, 60, 60, .9), 0 3px 10px rgba(0,0,0,.05), 0 7px 15px -3px rgba(0,0,0,.15);}.svelte-ub8p4v::backdrop {background-color:rgba(0,0,0,.3);}header.svelte-ub8p4v {margin:0;padding:1em;font-weight:bold;position:sticky;top:0;}

    @supports(animation-timeline: scroll()) {header.svelte-ub8p4v {
            animation: svelte-ub8p4v-header-scroll linear both;animation-timeline:scroll();animation-range:0 1px;}
    }

    @keyframes svelte-ub8p4v-header-scroll {
        to {
            box-shadow: 0 .5px 0 rgba(0,0,0,.2);
        }
    }form.svelte-ub8p4v {display:flex;flex-direction:column;gap:1em;padding:1em;padding-top:0;}.color.svelte-ub8p4v {all:unset;display:flex;gap:.75em;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v) {cursor:pointer;appearance:none;user-select:none;-webkit-user-select:none;margin:0;background:var(--color);transition:box-shadow .2s ease-in-out, background .2s ease-in-out;width:2em;height:2em;border-radius:50%;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):checked {background:transparent;box-shadow:inset 0 0 0 .5em var(--color);}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):active {transform:translateY(1px);}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v, button.svelte-ub8p4v {background:var(--control-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--control-bg-light), var(--control-bg-dark));
        }}blockquote.svelte-ub8p4v {white-space:pre-wrap;margin:0;min-width:100%;width:0;font-size:16px;}blockquote.compact.svelte-ub8p4v {white-space:nowrap;text-overflow:ellipsis;overflow:hidden;overflow:clip;}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v {border-radius:.5em;padding:.5em .6em;}.note.svelte-ub8p4v {min-width:min(21em, 70vw);min-height:4lh;appearance:none;border:0;font:inherit;color:inherit;display:block;scroll-margin-top:100vh;transition:background .15s ease-in-out, box-shadow .15s ease-in-out;}.note.svelte-ub8p4v:focus {background:transparent;}footer.svelte-ub8p4v {all:unset;display:flex;justify-content:flex-end;gap:.75em;}button.svelte-ub8p4v {appearance:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;border:0;font:inherit;color:inherit;cursor:pointer;padding:.25em .75em;border-radius:.5em;}button.svelte-ub8p4v:active {transform:translateY(1px);}button.svelte-ub8p4v sup:where(.svelte-ub8p4v) {margin-left:.25em;vertical-align:text-top;opacity:.5;}dialog.mobile.svelte-ub8p4v button:where(.svelte-ub8p4v) sup:where(.svelte-ub8p4v) {display:none;}button[value].svelte-ub8p4v {background:blue;background:AccentColor;color:white;}.unlock.svelte-ub8p4v {font-size:.75em;color:GrayText;}

    /* animation */dialog.svelte-ub8p4v, .svelte-ub8p4v::backdrop {transition:display .2s allow-discrete ease-in-out, 
            overlay .2s allow-discrete ease-in-out, 
            opacity .2s ease-in-out,
            box-shadow .2s ease-in-out;opacity:0;}[open].svelte-ub8p4v,
    [open].svelte-ub8p4v::backdrop {opacity:1;}

    @starting-style {[open].svelte-ub8p4v,
        [open].svelte-ub8p4v::backdrop {opacity:0;}
    }

    @supports not selector(::highlight(a)) {dialog.svelte-ub8p4v, dialog.svelte-ub8p4v::backdrop {
            animation: svelte-ub8p4v-simple-appear .2s forwards;}
        @keyframes svelte-ub8p4v-simple-appear {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    }`};function Gr(t,e){ae(e,!0),Ue(t,Gi);const n=[];let r=me(e,"store"),o,i,l=Nt(!0);Oe(()=>{r().draft?(B(l,!0),o==null||o.showModal()):o==null||o.close()});function f($){const x=$.currentTarget.returnValue;$.currentTarget.returnValue="",setTimeout(x?r().draftSubmit:r().draftCancel,200)}function v($){var x;pn()||($.stopImmediatePropagation(),$.stopPropagation(),$.key=="Enter"&&!$.shiftKey&&($.preventDefault(),i&&((x=$.currentTarget.closest("form"))==null||x.requestSubmit(i))))}var d=Xi();d.__mousedown=[Vi];let p;var w=ot(d),g=ot(w);J(w);var y=it(w,2),m=ot(y);{var k=$=>{var x=Ui(),A=xn(x);A.__click=[zi,l];let $t;var dt=ot(A,!0);J(A);var D=it(A,2);On(D,21,()=>Mt,ai,(L,V)=>{let U=()=>T(V)[0],tt=()=>T(V)[1];var X=Wi();hi(X);var qt;Wt(()=>{qt!==(qt=U())&&(X.value=(X.__value=U())==null?"":U()),ct(X,"style",`--color: ${tt()??""}`)}),wi(n,[],X,()=>(U(),r().draft.color),jt=>r().draft.color=jt),st(L,X)}),J(D);var M=it(D,2);ni(M),ei(M),M.__keydown=v;var Y=it(M,2);{var z=L=>{var V=Yi();st(L,V)};Pe(Y,L=>{r().pro||L(z)})}Wt(L=>{$t=Fe(A,1,"svelte-ub8p4v",null,$t,{compact:T(l)}),nn(dt,L),M.disabled=!r().pro},[()=>{var L,V;return((V=(L=r().draft)==null?void 0:L.text)==null?void 0:V.trim())||""}]),mi(M,()=>r().draft.note,L=>r().draft.note=L),st($,x)};Pe(m,$=>{r().draft&&$(k)})}var S=it(m,2),O=it(ot(S),2),q=ot(O);return Fo(),J(O),vn(O,$=>i=$,()=>i),J(S),J(y),J(d),vn(d,$=>o=$,()=>o),Wt($=>{var x,A;p=Fe(d,1,"svelte-ub8p4v",null,p,{mobile:$}),nn(g,`${((x=r().draft)!=null&&x._id?"Edit":"New")??""} highlight`),nn(q,`${((A=r().draft)!=null&&A._id?"Update":"Create")??""} `)},[pn]),bt("close",d,f),st(t,d),ue({get store(){return r()},set store($){r($),le()}})}Br(["mousedown","click","keydown"]);we(Gr,{store:{}},[],[],!0);const Ji=t=>{const e=t.target.getAttribute("data-highlight");e&&(t.preventDefault(),Yr(e))};var Ki=gt('<div class="svelte-rwfy02"></div>'),Zi=gt('<nav role="presentation" class="svelte-rwfy02"></nav>');const Qi={hash:"svelte-rwfy02",code:"nav.svelte-rwfy02 {all:unset;}div.svelte-rwfy02 {position:fixed;right:0;width:24px;height:20px;display:flex;justify-content:flex-end;align-items:center;cursor:pointer;background:transparent;z-index:99999999999999;}div.svelte-rwfy02::before {content:'';display:block;height:3px;border-radius:3px;width:16px;background:var(--color);transition:width .15s ease-in-out;}div.svelte-rwfy02:hover::before {width:100%;}"};function Jr(t,e){ae(e,!0),Ue(t,Qi);let n=me(e,"store");var r=ii(),o=xn(r);{var i=l=>{var f=Zi();f.__click=[Ji],On(f,21,()=>n().highlights,v=>v._id,(v,d)=>{var p=Ki();Wt(w=>{ct(p,"data-highlight",T(d)._id),ct(p,"style",`top: var(--highlight-${T(d)._id??""}-top); --color: ${w??""}`)},[()=>Mt.get(T(d).color)||T(d).color]),st(v,p)}),J(f),st(l,f)};Pe(o,l=>{n().nav&&l(i)})}return st(t,r),ue({get store(){return n()},set store(l){n(l),le()}})}Br(["click"]);we(Jr,{store:{}},[],[],!0);var ts=gt('<div class="svelte-1qyoyb3"><!></div>');const es={hash:"svelte-1qyoyb3",code:"div.svelte-1qyoyb3 {display:contents;}"};function Kr(t,e){ae(e,!0),Ue(t,es);let n=me(e,"children"),r=Nt(1);Oe(()=>{var f;function l(){var v;B(r,1/(((v=window.visualViewport)==null?void 0:v.scale)||1))}return(f=window.visualViewport)==null||f.addEventListener("resize",l),()=>{var v;return(v=window.visualViewport)==null?void 0:v.removeEventListener("resize",l)}});var o=ts(),i=ot(o);return di(i,()=>n()??dr),J(o),Wt(()=>gi(o,"--mobile-zoom-level",T(r))),st(t,o),ue({get children(){return n()},set children(l){n(l),le()}})}we(Kr,{children:{}},[],[],!0);var ns=gt("<!> <!> <!>",1);function rs(t,e){ae(e,!0);let n=me(e,"store");Oe(()=>{ln(n().highlights)});let r;function o(){ln(n().highlights),clearTimeout(r),r=setTimeout(()=>ln(n().highlights),3e3)}return Ar(()=>{document.readyState&&o()}),Oe(()=>Li),bt("load",Se,o),bt("popstate",Se,o),Kr(t,{children:(i,l)=>{var f=ns(),v=xn(f);Xr(v,{get store(){return n()}});var d=it(v,2);Gr(d,{get store(){return n()}});var p=it(d,2);Jr(p,{get store(){return n()}}),st(i,f)},$$slots:{default:!0}}),ue({get store(){return n()},set store(i){n(i),le()}})}customElements.define("rdh-ui",we(rs,{store:{}},[],[],!0));function os(t){if(typeof chrome=="object"&&chrome.runtime&&chrome.runtime.onMessage||typeof browser=="object"&&browser.runtime&&browser.runtime.onMessage){const{runtime:e}=typeof browser=="object"?browser:chrome,n=(r,o)=>{o.id==e.id&&typeof r.type=="string"&&t(r)};return e.onMessage.removeListener(n),e.onMessage.addListener(n),r=>e.sendMessage(null,r)}if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.rdh)return window.rdhSend=t,e=>window.webkit.messageHandlers.rdh.postMessage(e);if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron){const{ipcRenderer:e}=require("electron"),n=(r,o)=>t(o);return e.removeListener("RDH",n),e.on("RDH",n),r=>e.sendToHost("RDH",r)}if("ReactNativeWebView"in window)return window.ReactNativeWebViewSendMessage=t,e=>window.ReactNativeWebView.postMessage(JSON.stringify(e));if(window.self!==window.top){const e=({data:n,source:r})=>{r!==window.parent||typeof n!="object"||typeof n.type!="string"||t(n)};return window.removeEventListener("message",e),window.addEventListener("message",e),n=>window.parent.postMessage(n,"*")}throw new Error("unsupported platform")}async function is(t){let e=!1;const n=new Set,r=os(o=>{if(!e){n.add(o);return}t(o)});await new Promise(o=>{function i(){window.removeEventListener("DOMContentLoaded",i),o()}document.body?o():(window.removeEventListener("DOMContentLoaded",i),window.addEventListener("DOMContentLoaded",i,{once:!0}))}),e=!0;for(const o of n)t(o),n.delete(o);return r}const fe=document.createElement("rdh-ui");(async()=>{const t=await is(n=>{switch(n.type){case"RDH_APPLY":Array.isArray(n.payload)&&(e.highlights=n.payload);break;case"RDH_CONFIG":typeof n.payload.pro=="boolean"&&(e.pro=n.payload.pro),typeof n.payload.nav=="boolean"&&(e.nav=n.payload.nav),typeof n.payload.hide_new_toolbar=="boolean"&&(e.hide_new_toolbar=n.payload.hide_new_toolbar),typeof n.payload.enabled=="boolean"&&(n.payload.enabled===!0?document.body.contains(fe)||document.body.appendChild(fe):document.body.contains(fe)&&document.body.removeChild(fe));break;case"RDH_SCROLL":typeof n.payload._id=="string"&&Yr(n.payload._id);break;case"RDH_ADD_SELECTION":{const r=hn();if(!r)return;const o=e.find(r);if(!o)return;e.upsert({...o,...n.payload||{}}),Qt()}break;case"RDH_NOTE_SELECTION":{const r=hn();if(!r)return;const o=e.find(r);if(!o)return;e.setDraft(o),Qt()}break}}),e=qi(n=>t({type:"RDH_ADD",payload:n}),n=>t({type:"RDH_UPDATE",payload:n}),({_id:n})=>t({type:"RDH_REMOVE",payload:{_id:n}}));fe.store=e,t({type:"RDH_READY",payload:{url:location.href}})})();
